{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":[" "]},"docs":[{"location":"","title":"A ROS Noetic Tutorial for Beginners","text":"<p>\uc5f0\uc138\ub4dc\ub860 \ubd80\uc6d0\uc744 \uc704\ud55c ROS1 Noetic \ud29c\ud1a0\ub9ac\uc5bc\uc785\ub2c8\ub2e4.</p> <p>Table of Contents</p> <ol> <li> <p>Introduction</p> <p>1.1 ROS Noetic \uc124\uce58\ud558\uae30</p> <p>1.2 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uc124\uc815 \ubc0f \ud658\uacbd \uad6c\uc131</p> <p>1.3 shell\ud30c\uc77c\ub85c ROS Noetic \uc124\uce58\ud558\uae30</p> </li> <li> <p>ROS Noetic \uae30\ucd08</p> <p>2.1 \uac04\ub2e8\ud55c Publisher, Subscriber \ub178\ub4dc \uc791\uc131\ud558\uae30</p> <p>2.2 \uba54\uc138\uc9c0\uc5d0 \ub300\ud55c \uc774\ud574\uc640 \ucee4\uc2a4\ud140 \uba54\uc138\uc9c0 \ub2e4\ub8e8\uae30</p> <p>2.3 roslaunch\ub85c \uc5ec\ub7ec \ub178\ub4dc \uc2e4\ud589\ud558\uae30</p> <p>2.4 Time, Sleeping, Rates and Spinning</p> </li> <li> <p>Turtlesim</p> <p>3.1 turtlesim \uc2e4\ud589\ud558\uace0 \ud0a4\ubcf4\ub4dc\ub85c \uc870\uc791\ud558\uae30</p> <p>3.2 \uc9c1\uc811 \uc791\uc131\ud55c \ucf54\ub4dc\ub85c \uc81c\uc5b4\ud558\uae30 (\uc608\uc81c #1)</p> <p>3.3 \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uc774\ud574\uc640 \uc0c1\ub300 \uc704\uce58\ub85c \uc81c\uc5b4\ud558\uae30 (\uc608\uc81c #2)</p> </li> </ol> <p>\uc608\uc81c List</p> <p>#1 \ud0a4\ubcf4\ub4dc\ub85c turtlesim \uac70\ubd81\uc774 \uc81c\uc5b4\ud558\uae30</p> <p>#2 turtlesim 2\ubc88\uc9f8 \uac70\ubd81\uc774 \uc18c\ud658\ud558\uc5ec \uc0c1\ub300 \uc704\uce58\ub85c \uc81c\uc5b4\ud558\uae30, 1\ubc88 \uc608\uc81c \ub178\ub4dc\uc640 \ub7f0\uce58\ud30c\uc77c \ub9cc\ub4e4\uae30</p> <p>\uc9c8\ubb38 \ubc0f \uc5d0\ub7ec \ubb38\uc758</p> <ul> <li> <p> Github Issue</p> </li> <li> <p> \uc5f0\uc138\ub4dc\ub860 \ud65c\ub3d9\ubc29</p> </li> </ul>"},{"location":"01_Introduction/1_introduction/","title":"Introduction","text":""},{"location":"01_Introduction/1_introduction/#11-ros-noetic","title":"1.1 ROS Noetic \uc124\uce58\ud558\uae30","text":"<p>\ud29c\ud1a0\ub9ac\uc5bc\uc744 \uc2dc\uc791\ud558\uae30\uc5d0 \uc55e\uc11c, Ubuntu 20.04\uc5d0 ROS Noetic\ub97c \uc124\uce58\ud569\ub2c8\ub2e4. \uc790\uc138\ud55c \uc0ac\ud56d\uc740 Ubuntu install of ROS Noetic \uc744 \ucc38\uace0\ud558\uae30 \ubc14\ub78d\ub2c8\ub2e4.</p> <pre><code># \ud130\ubbf8\ub110\uc744 \uc5f4\uc5b4 \uc544\ub798 \uba85\ub839\uc5b4\ub4e4\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.\n\n# curl\uc774 \uc5c6\ub294 \uacbd\uc6b0 \uc124\uce58\ud574\uc90d\ub2c8\ub2e4.\nsudo apt install curl -y\n\n# packages.ros.org\ub85c\ubd80\ud130 \ud328\ud0a4\uc9c0\ub97c \ubc1b\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4.\nsudo sh -c 'echo \"deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main\" &gt; /etc/apt/sources.list.d/ros-latest.list'\n\ncurl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -\n\n# \ud328\ud0a4\uc9c0 \ub9ac\uc2a4\ud2b8\ub97c \ucd5c\uc2e0\ud654\ud569\ub2c8\ub2e4.\nsudo apt update\n\n# ROS Noetic Desktop Full \ubc84\uc804\uc744 \uc124\uce58\ud569\ub2c8\ub2e4.\nsudo apt install ros-noetic-desktop-full\n\n# \uc774 \uc678 \ubc84\uc804\uc740 \ub9c1\ud06c\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.\n</code></pre>"},{"location":"01_Introduction/1_introduction/#12","title":"1.2 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uc124\uc815 \ubc0f \ud658\uacbd \uad6c\uc131","text":"<p>ROS \uc791\uc5c5 \uc601\uc5ed\uc740 ROS \ud504\ub85c\uc81d\ud2b8\ub97c \uac1c\ubc1c\ud558\uace0 \ube4c\ub4dc\ud558\ub294 \uacf3\uc785\ub2c8\ub2e4. \uc774 \uc139\uc158\uc5d0\uc11c\ub294 ROS \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uc124\uc815, \ud328\ud0a4\uc9c0 \uc0dd\uc131\uc5d0 \ub300\ud55c \uc124\uba85\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <pre><code># \uc544\ub798 \ucee4\ub9e8\ub4dc\ub97c \ud1b5\ud574 ROS Noetic\uc744 source \ud574\uc90d\ub2c8\ub2e4.\nsource /opt/ros/noetic/setup.bash\n\n# \ub9e4\ubc88 \ud130\ubbf8\ub110\uc744 \uc5f4 \ub54c\ub9c8\ub2e4 ROS Noetic\uc744 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 \uc704 \ucee4\ub9e8\ub4dc\ub97c \uc2e4\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.\n# \ud3b8\ub9ac\ud568\uc744 \uc704\ud574\uc11c\ub294 \ud130\ubbf8\ub110 \uc2e4\ud589 \uc2dc \uc790\ub3d9\uc73c\ub85c source\ub418\ub294 ~/.bashrc\uc5d0 \ub123\uc5b4\uc8fc\uc5b4\ub3c4 \ub429\ub2c8\ub2e4.\necho \"source /opt/ros/noetic/setup.bash\" &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n\n# \uc0c8 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.\nmkdir -p ~/catkin_ws/src\n\n# \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub85c \uc774\ub3d9\ud558\uc5ec \ube4c\ub4dc\ud574\uc90d\ub2c8\ub2e4.\ncd ~/catkin_ws/\ncatkin init\ncatkin build\n\n# \ube4c\ub4dc \uc774\ud6c4\uc5d0\ub294 \uc544\ub798 \ucee4\ub9e8\ub4dc\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\uc758 \ube4c\ub4dc\ub0b4\uc6a9\uc744 source \ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.\nsource devel/setup.bash\n\n# \uc774\ud6c4 ROS \ud328\ud0a4\uc9c0\ub97c \ube4c\ub4dc\ud558\uace0 \ub9cc\ub4e4\uae30 \uc704\ud55c \uc758\uc874\uc131 \ub3c4\uad6c\ub4e4\uc744 \uc124\uce58\ud569\ub2c8\ub2e4.\nsudo apt install python3-rosdep python3-rosinstall python3-rosinstall-generator python3-wstool build-essential python3-catkin-tools -y\n\n# rosdep\uc740 \uc2dc\uc2a4\ud15c \uc885\uc18d\uc131\uc774\ub098 ROS \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\ub97c \uc2e4\ud589\ud558\ub294 \ub370 \ud544\uc694\ud569\ub2c8\ub2e4.\nsudo apt install python3-rosdep\nsudo rosdep init\nrosdep update\n</code></pre> <p><code>source</code>\ub294 \uc258 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud558\ub294 \uba85\ub839\uc5b4\ub85c <code>/opt/ros/noetic/</code>\uacbd\ub85c\uc5d0 \uc788\ub294 <code>setup.bash</code>\ud30c\uc77c\uc744 \uc2e4\ud589\uc2dc\ucf1c \ud574\ub2f9 \ud130\ubbf8\ub110\uc5d0\uc11c ROS \ud658\uacbd\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4.</p> <p><code>~/.bashrc</code>\ub294 \uc5ec\ub7ec \uc885\ub958\uc758 <code>dotfiles</code> \uc911 \ud558\ub098\ub85c \ud130\ubbf8\ub110\uc774 \uc2e4\ud589\ub418\uc5c8\uc744 \ub54c \uc790\ub3d9\uc73c\ub85c \uc801\uc6a9\ub429\ub2c8\ub2e4. \ub9e4\ubc88 \ucee4\ub9e8\ub4dc\ub97c \uc785\ub825\ud558\uae30 \ubc88\uac70\ub85c\uc6b4 \ud658\uacbd \uc124\uc815\uc758 \uacbd\uc6b0 \ubcf4\ud1b5 <code>.bashrc</code>\ud30c\uc77c\uc5d0 \ub123\uc2b5\ub2c8\ub2e4.</p> <p>\uc704\uce58\ub294 \ubcf8\uc778 \uacc4\uc815\uc758 \ud648 \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc788\uc73c\uba70 <pre><code>cd ~ # or cd\ngedit ~/.bashrc # \uc124\uce58\ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0 sudo apt install gedit (\ud639\uc740 \ubcf8\uc778\uc774 \uc120\ud638\ud558\ub294 \uc5d0\ub514\ud130\ub85c \uc5f4\uae30)\n</code></pre> \uc744 \ud1b5\ud574 \uc9c1\uc811 \uc5f4\uc5b4\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>Tip</p> <p>\ubcf4\ud1b5 ROS \uc2dc\uc2a4\ud15c \uacbd\ub85c\uc640 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub97c \ubaa8\ub450 <code>source</code>\ud574\uc8fc\uc5b4\uc57c \uc124\uce58\ub41c \ud328\ud0a4\uc9c0\ub098 ROS \ud658\uacbd\uc744 \uc778\uc2dd\ud558\uae30 \ub54c\ubb38\uc5d0 <code>~/.bashrc</code>\ud30c\uc77c\uc5d0\ub294 \uc544\ub798\uc640 \uac19\uc740 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4.</p> <pre><code>source /opt/ros/noetic/setup.bash\nsource ~/catkin_ws/devel/setup.bash # \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub97c catkin_ws \uc774\ub984\uc73c\ub85c \ud648 \ub514\ub809\ud1a0\ub9ac\uc5d0 \ub9cc\ub4e0 \uacbd\uc6b0\n</code></pre> <p>\ubcf8\uc778\uc774 \ubcc4\ub3c4\uc758 ROS \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub97c \ub9cc\ub4e4\uc5c8\uac70\ub098 \uc5ec\ub7ec \uac1c\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 <pre><code>source &lt;\ud3f4\ub354 \uc704\uce58&gt;/devel/setup.bash\n</code></pre> \ub97c \ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.</p>"},{"location":"01_Introduction/1_introduction/#13-shell-ros-noetic","title":"1.3 shell \ud30c\uc77c\ub85c ROS Noetic \uc124\uce58\ud558\uae30","text":"<p>\ud604\uc7ac \ud3f4\ub354\uc5d0 \uc788\ub294 ros_install_noetic.sh\ub85c \uc704\uc758 \uacfc\uc815\uc5c6\uc774 \uac04\ud3b8\ud558\uac8c \uc124\uce58\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ub9c1\ud06c\uc5d0\uc11c catkin build\uc5d0 \ud544\uc694\ud55c tool \uc124\uce58 \ucd94\uac00 <pre><code># \ud574\ub2f9 \ud30c\uc77c\uc744 \ub2e4\uc6b4\ub85c\ub4dc\ud558\uc5ec \ud130\ubbf8\ub110\uc744 \uc5f4\uace0 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc785\ub825\n./ros_install_noetic.sh\n</code></pre> shell \ud30c\uc77c\uc744 \uc5f4\uc5b4\ubcf4\uace0 .sh \ud615\uc2dd\uc758 \ud30c\uc77c\uc774 \uc5b4\ub5a4 \uae30\ub2a5\uc744 \ud560 \uc218 \uc788\ub294\uc9c0\uc640 \uc704 1.1 ~ 1.2\uc5d0\uc11c \uc9c4\ud589\ud55c \ub0b4\uc6a9\uc774 \uc5b4\ub5bb\uac8c \ub2f4\uaca8\uc788\ub294\uc9c0 \ud655\uc778\ud574\ubd05\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/1_simple_pub_sub_node/","title":"2.1 \uac04\ub2e8\ud55c Publisher, Subscriber \ub178\ub4dc \uc791\uc131\ud558\uae30","text":""},{"location":"02_ros_noetic_basic/1_simple_pub_sub_node/#section-1-a-ros-package","title":"Section 1: A ROS Package","text":"<p>\ub4e4\uc5b4\uac00\uae30\uc5d0 \uc55e\uc11c ROS \ud328\ud0a4\uc9c0\ub97c \ub9cc\ub4e4\uc5b4\uc90d\ub2c8\ub2e4.</p> <p>1.1 Creating a Package</p> <p>\uc774\uc804\uc5d0 \ub9cc\ub4e4\uc5b4\uc900 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub85c \uc774\ub3d9\ud558\uace0 \ud328\ud0a4\uc9c0\ub97c \ub9cc\ub4e4\uc5b4\uc90d\ub2c8\ub2e4.</p> <p><pre><code>cd ~/catkin_ws/src\n# \ube4c\ub4dc \uba85\ub839\uc5b4\ub85c catkin_make \uc0ac\uc6a9 \uc2dc catkin_create_pkg im_newbie std_msgs roscpp\n# Introduction\uc5d0\uc11c\ub294 catkin build\ub85c \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub97c \ucc98\uc74c \ube4c\ub4dc\ud574\ub450\uc5c8\uc73c\ubbc0\ub85c \uc544\ub798 \uba85\ub839\uc5b4 \uc0ac\uc6a9\ncatkin create pkg im_newbie --catkin-deps std_msgs roscpp\n</code></pre> \uc5ec\uae30\uc5d0\uc11c\ub294 <code>std_msgs</code>\uacfc <code>roscpp</code> \uc758\uc874\uc131\ub9cc \ucd94\uac00\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4. \ud328\ud0a4\uc9c0\uc5d0 \ud544\uc694\ud55c \ud2b9\uc815 \uc758\uc874\uc131\uc5d0 \ub530\ub77c \uba85\ub839\uc5b4\ub97c \ubc14\uafb8\uc5b4\uc90d\ub2c8\ub2e4.</p> <p>1.2 Adding Dependencies</p> <p>\ud328\ud0a4\uc9c0\uac00 \ub2e4\ub978 ROS \ud328\ud0a4\uc9c0\uc5d0 \uc758\uc874\ud558\ub294 \uacbd\uc6b0 <code>package.xml</code>\uc5d0 \ud574\ub2f9 \ud328\ud0a4\uc9c0\ub97c \uc120\uc5b8\ud574\uc57c \ud569\ub2c8\ub2e4. \uc790\uc138\ud55c \uc0ac\ud56d\uc740 ROS wiki\uc758 6. Customizing Your Package\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>1.3 Building the Package</p> <p>\uc758\uc874\uc131\uae4c\uc9c0 \ub2e4 \ucd94\uac00\ud55c \ud6c4\uc5d0\ub294 \ud328\ud0a4\uc9c0\ub97c \ube4c\ub4dc\ud569\ub2c8\ub2e4</p> <pre><code>cd ~/catkin_ws\ncatkin build\nsource devel/setup.bash # \ud639\uc740 source ~/.bashrc, \ube4c\ub4dc \ud6c4 \ub2e4\uc2dc source\ub97c \ud574\uc8fc\uc5b4\uc57c \ube4c\ub4dc\ud55c \ub0b4\uc6a9\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4.\n</code></pre> <p>\uc790\uc138\ud55c \ube4c\ub4dc \uba85\ub839\uc5b4\uc5d0 \ub300\ud574\uc11c\ub294 catkin_make\ub610\ub294 catkin build\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>\ub450 \ube4c\ub4dc \ubc29\uc2dd\uc758 \ucc28\uc774\ub294 \ub9c1\ud06c\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>\ube4c\ub4dc\uac00 \uc5d0\ub7ec\uc5c6\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub05d\ub0ac\ub2e4\uba74 \ubcf8\uaca9\uc801\uc73c\ub85c \ub178\ub4dc\ub97c \uc791\uc131\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/1_simple_pub_sub_node/#section-2-writing-a-simple-publisher-node","title":"Section 2: Writing a Simple Publisher Node","text":"<p>2.1 Creating the Source File</p> <p>\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc774\ub3d9\ud558\uace0 \ud30c\uc77c\uc744 \ub9cc\ub4e4\uc5b4\uc90d\ub2c8\ub2e4.</p> <pre><code>cd ~/catkin_ws/src/im_newbie/src\ntouch publisher_node.cpp\n</code></pre> <p><code>touch</code>\ub294 \ud30c\uc77c\uc744 \ub9cc\ub4e4\uc5b4\uc90d\ub2c8\ub2e4. \ucf54\ub4dc\ub97c \uc791\uc131\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \uc5d0\ub514\ud130\ub85c\ub294 <code>nano, gedit, vim, code</code> \ub4f1\uc774 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>Info</p> <p>code\ub294 VSCode\ub85c \uac00\uc7a5 \ub110\ub9ac \uc4f0\uc774\ub294 IDE\uc785\ub2c8\ub2e4. GUI\ub97c \uc0ac\uc6a9\ud558\uc9c0 \ubabb\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 \uc8fc\ub85c nano, vim, vi \ub4f1\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <pre><code>#\ud544\uc694\ud55c \uacbd\uc6b0 \uc544\ub798 \uba85\ub839\uc5b4\ub85c \uc124\uce58\ud569\ub2c8\ub2e4.\nsudo apt-get install nano gedit vim code -y\n</code></pre> <p>2.2 Writing the Code</p> <p>\uc5d0\ub514\ud130\ub85c \ub9cc\ub4e4\uc5b4\uc900 <code>publisher_node.cpp</code> \ud30c\uc77c\uc744 \uc5f4\uace0 \uc544\ub798 \ucf54\ub4dc\ub97c \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4.</p> <p><pre><code>#include &lt;ros/ros.h&gt;\n#include &lt;std_msgs/String.h&gt;\n\nint main(int argc, char** argv) {\n    /**\n     * ros::init() \ud568\uc218\ub294 \ub2e4\uc74c\uc744 \uc218\ud589\ud558\uae30 \uc704\ud574 argc \ubc0f argv\ub97c \ud655\uc778\ud574\uc57c \ud569\ub2c8\ub2e4.\n     * \uba85\ub839\uc904\uc5d0\uc11c \uc81c\uacf5\ub41c \ubaa8\ub4e0 ROS \uc778\uc790\uc640 \uc774\ub984 \ub9ac\ub9e4\ud551\uc744 \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n     * \ud504\ub85c\uadf8\ub798\ubc0d \ubc29\uc2dd \ub9ac\ub9e4\ud551\uc758 \uacbd\uc6b0 \ub2e4\ub978 \ubc84\uc804\uc758 init()\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n     * \ub9ac\ub9e4\ud551\uc744 \uc9c1\uc811 \uc218\ud589\ud560 \uc218 \uc788\uc9c0\ub9cc, \ub300\ubd80\ubd84\uc758 \uba85\ub839\uc904 \ud504\ub85c\uadf8\ub7a8\uc5d0\uc11c\ub294 argc\uc640 argv\ub97c \uc804\ub2ec\ud558\ub294 \uac83\uc774\n     * \uc804\ub2ec\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \uc26c\uc6b4 \ubc29\ubc95\uc785\ub2c8\ub2e4. init()\uc758 \uc138 \ubc88\uc9f8 \uc778\uc218\ub294 \ub178\ub4dc\uc758 \uc774\ub984\uc785\ub2c8\ub2e4.\n     *\n     * ROS \uc2dc\uc2a4\ud15c\uc744 \uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 ros::init()\uc758 \ubc84\uc804 \uc911 \ud558\ub098\ub97c \ud638\ucd9c\ud574\uc57c \ud569\ub2c8\ub2e4.\n     */\n    // \"publisher_node\"\uc774\ub984\uc73c\ub85c \ub178\ub4dc \uc120\uc5b8\n    ros::init(argc, argv, \"publisher_node\");\n\n    /**\n     * NodeHandle\uc740 ROS \uc2dc\uc2a4\ud15c\uacfc\uc758 \ud1b5\uc2e0\uc744 \uc704\ud55c \uc8fc\uc694 \uc561\uc138\uc2a4 \ud3ec\uc778\ud2b8\uc785\ub2c8\ub2e4.\n     * \ucc98\uc74c \uc0dd\uc131\ub41c NodeHandle\uc774\uc740 \uc774 \ub178\ub4dc\ub97c \uc644\uc804\ud788 \ucd08\uae30\ud654\ud558\uba70, \ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc0dd\uc131\ub41c NodeHandle\uc774 \uc18c\uba78\ub418\uba74 \ub178\ub4dc\uac00 \ub2eb\ud799\ub2c8\ub2e4.\n     */\n    ros::NodeHandle nh;\n\n    /**\n     * advertise() \ud568\uc218\ub294 \uc8fc\uc5b4\uc9c4 \ud1a0\ud53d \uc774\ub984\uc5d0 \ub300\ud574 publish\ud558\uace0\uc790 ROS\uc5d0 \uc120\uc5b8\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4.\n     * advertise()\ub294 publish() \ud638\ucd9c\uc744 \ud1b5\ud574 \ud574\ub2f9 \ud1a0\ud53d\uc5d0 \uba54\uc2dc\uc9c0\ub97c publish\ud560 \uc218 \uc788\ub294 publisher \uac1d\uccb4\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\n     * advertise()\uc758 \ub450 \ubc88\uc9f8 \ub9e4\uac1c \ubcc0\uc218\ub294 \uba54\uc2dc\uc9c0 publish\uc5d0 \uc0ac\uc6a9\ub418\ub294 \uba54\uc2dc\uc9c0 \ud050\uc758 \ud06c\uae30\uc785\ub2c8\ub2e4. \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0bc \uc218 \uc788\ub294 \uc18d\ub3c4\ubcf4\ub2e4 \ub354 \ube68\ub9ac publish\ub418\ub294 \uacbd\uc6b0 \uc5ec\uae30 \uc22b\uc790\ub294 \ubc84\ub9ac\uae30 \uc804\uc5d0 \ubc84\ud37c\ub9c1\ud560 \uba54\uc2dc\uc9c0 \uc218\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4.\n    */\n    // \uc55e\uc11c \uc120\uc5b8\ud55c NodeHandle nh\uc758 advertise \ud568\uc218\ub85c, \"my_topic\" \uc774\ub984\uc744 \uac00\uc9c0\ub294 String \uba54\uc138\uc9c0 \ud0c0\uc785\uc758 \ud1a0\ud53d\uc744 publish\ud560 \uc218 \uc788\ub294 publisher\ub97c \uc120\uc5b8\n    ros::Publisher pub = nh.advertise&lt;std_msgs::String&gt;(\"my_topic\", 10);\n\n    ros::Rate rate(1);  // 1 Hz\n\n    while (ros::ok()) {\n        std_msgs::String msg;\n        msg.data = \"Hello, ROS!\";\n\n        /**\n         * publish() \ud568\uc218\ub294 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \ub9e4\uac1c \ubcc0\uc218\ub294 \uba54\uc2dc\uc9c0 \uac1d\uccb4\uc785\ub2c8\ub2e4. \uc774 \uac1d\uccb4\uc758 \uc720\ud615\uc740 \uc704\uc758 \uc0dd\uc131\uc790\uc5d0\uc11c \uc218\ud589\ud55c \uac83\ucc98\ub7fc advertise&lt;&gt;() \ud638\ucd9c\uc5d0 \ud15c\ud50c\ub9bf \ub9e4\uac1c\ubcc0\uc218\ub85c \uc9c0\uc815\ub41c \uc720\ud615\uacfc \uc77c\uce58\ud574\uc57c \ud569\ub2c8\ub2e4.\n         */\n        // advertise\uc5d0\uc11c \uc120\uc5b8\ud55c std_msgs::String\uc5d0 \ud574\ub2f9\ud558\ub294 \ubcc0\uc218\uc778 msg\ub97c publish\ud569\ub2c8\ub2e4.\n        pub.publish(msg);\n\n        // 1Hz\ub85c publish \ub418\ub3c4\ub85d \uc124\uc815\n        rate.sleep();\n    }\n\n    return 0;\n}\n</code></pre> \uc704 \uc124\uba85\uc758 \ub300\ubd80\ubd84\uc740 \uc544\ub798 \ub9c1\ud06c\uc758 \ub0b4\uc6a9\uc744 \ubc88\uc5ed\ud55c \uac83\uc785\ub2c8\ub2e4.</p> <p>\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 Writing a Simple Publisher and Subscriber (C++)\uc744 \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>Publisher\uc5d0 \ub2f4\uae34 \uba54\uc2dc\uc9c0\ub098 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\ub294 \uad6c\uccb4\uc801\uc778 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c\ub294 \ucd94\ud6c4\uc5d0 \ub2e4\ub8e8\uace0 \uc6b0\uc120 \uae30\ubcf8\uc801\uc778 ROS\uc758 \ub178\ub4dc\uac00 \ubb34\uc5c7\uc778\uc9c0 \uc774\ud574\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4.</p> <p>2.3 Building the Node</p> <p>\uc0c8\ub85c\uc6b4 \ub178\ub4dc\ub97c \uc791\uc131\ud558\uac70\ub098 \uc758\uc874\uc131\uc774 \ucd94\uac00\ub418\ub294 \ub4f1\ub4f1\uc758 \uacbd\uc6b0, <code>CMakeLists.txt</code>\uc640 <code>package.xml</code>\uc5d0 \ubcc0\uacbd\uc0ac\ud56d\uc744 \ubc18\uc601\ud574\uc8fc\uc5b4\uc57c \ube4c\ub4dc\ud560 \ub54c \uc2e4\ud328\ud558\uc9c0 \uc54a\uace0 \ubcc0\uacbd\uc0ac\ud56d\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ucc98\uc74c <code>catkin create pkg</code>\ub97c \ud1b5\ud574 \ud328\ud0a4\uc9c0\ub97c \uc0dd\uc131\ud558\uace0 \ube4c\ub4dc\ud558\uc600\uc744 \ub54c \uc6b0\uc120 \uc124\uba85\uc744 \uac74\ub108\ub6f0\uc5c8\uc9c0\ub9cc \ud30c\uc77c \uad6c\uc870\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4.</p> <pre><code>catkin_ws/        -- WORKSPACE\n  src/                   -- SOURCE SPACE\n    CMakeLists.txt       -- 'Toplevel' CMake file, provided by catkin\n    im_newbie/\n      CMakeLists.txt     -- CMakeLists.txt file for im_newbie\n      package.xml        -- Package manifest for im_newbie\n</code></pre> <p><code>package.xml</code>\uc744 \uc5f4\uc5b4\ubcf4\uba74 \ucc98\uc74c \uc758\uc874\uc131\uc5d0 \ucd94\uac00\ud574\uc900 <code>roscpp</code>\uacfc <code>std_msgs</code>\uac00 \uc544\ub798\uc640 \uac19\uc774 \ubcf4\uc77c \uac83\uc785\ub2c8\ub2e4. <pre><code>  &lt;buildtool_depend&gt;catkin&lt;/buildtool_depend&gt;\n  &lt;build_depend&gt;roscpp&lt;/build_depend&gt;\n  &lt;build_depend&gt;std_msgs&lt;/build_depend&gt;\n</code></pre> \uc5ec\uae30\uc5d0\ub294 \ud328\ud0a4\uc9c0 \uc774\ub984\uacfc \ube4c\ub4dc \uc758\uc874\uc131, \uadf8\ub9ac\uace0 \ud328\ud0a4\uc9c0\uc5d0 \ub300\ud55c \uc124\uba85\uc744 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc6d0\ud558\ub294 \uacbd\uc6b0 <code>&lt;description&gt;</code>, <code>&lt;maintainer email&gt;</code>\uc774\ub098 <code>&lt;license&gt;</code>\ub4f1\uc744 \uc218\uc815\ud574\ub3c4 \ub429\ub2c8\ub2e4.</p> <p>\uc704\uc5d0\uc11c \ub118\uc5b4\uac04 1.2 Adding Dependencies \ub9c1\ud06c\uc5d0 \uc124\uba85\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\uae30\uae4c\uc9c0\ub294 \uc77d\uae30\ub9cc \ud558\uba74 \ub418\ub294 \ub0b4\uc6a9\ub4e4\uc774\uace0 \uc774\uc81c C++\ud30c\uc77c\uc744 \uc791\uc131\ud558\uc600\uc73c\ubbc0\ub85c <code>CMakeLists.txt</code>\ub294 \uc9c1\uc811 \uc218\uc815\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.</p> <p>im_newbie \ud3f4\ub354 \uc544\ub798\uc5d0 \uc788\ub294 <code>CMakeLists.txt</code>\ud30c\uc77c\uc744 \uc5f4\uace0 \uc544\ub798 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4.</p> <p><pre><code>add_executable(publisher_node src/publisher_node.cpp)\ntarget_link_libraries(publisher_node ${catkin_LIBRARIES})\n</code></pre> \uc0b4\ud3b4\ubcf8 <code>package.xml</code>, <code>CMakeLists.txt</code> \ub450 \ud30c\uc77c \ubaa8\ub450 \uc8fc\uc11d\uc73c\ub85c \uac01 \uc694\uc18c\ub4e4\uc774 \uc124\uba85\ub418\uc5b4\uc788\uace0 \ub300\ubd80\ubd84\uc758 \ud544\uc694\ud55c \ud615\uc2dd\ub4e4\uc744 \uc81c\uacf5\ud558\ubbc0\ub85c \ud544\uc694\ud55c \ubd80\ubd84\uc758 \uc8fc\uc11d\uc744 \uc5c6\uc560\uc11c \uc791\uc131\ud558\uc5ec\ub3c4 \uc88b\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uc81c \ub2e4\uc2dc \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud574\ubd05\ub2c8\ub2e4.</p> <pre><code>cd ~/catkin_ws\ncatkin build\nsource devel/setup.bash\n</code></pre> <p>2.4 Running the Node</p> <p>\ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \ub178\ub4dc\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.</p> <p>\uc55e\uc73c\ub85c\uc758 \uba85\ub839\uc5b4 \uc608\uc2dc\uc5d0\uc11c\ub294 <code>source /opt/ros/noetic/setup.bash</code>\uc640 <code>source ~/catkin_ws/devel/setup.bash</code>\ub97c <code>~/.bashrc</code>\uc5d0 \ub123\uc5c8\ub2e4\ub294 \uac83\uc744 \uac00\uc815\ud558\uace0 \uc0dd\ub7b5\ud569\ub2c8\ub2e4.</p> <p>\ub123\uc9c0 \uc54a\uc740 \uacbd\uc6b0\uc5d0\ub294 \uac01 \uba85\ub839\uc5b4 \uc2e4\ud589 \uc804\uc5d0 \ub450 \ud30c\uc77c\uc744 \ubaa8\ub450 <code>source</code>\ud574\uc900 \ud6c4\uc5d0 \uc2e4\ud589\ud558\uba74 \ub429\ub2c8\ub2e4. <pre><code># Terminal 1\n$ roscore\n\n# Terminal 2\n$ rosrun im_newbie publisher_node\n\n# Terminal 3\n$ rostopic echo /my_topic\n</code></pre></p> <p>ROS1\uc5d0\uc11c\ub294 MASTER \uc5ed\ud560\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ucd94\ud6c4 \ubc30\uc6b8 <code>roslaunch</code> \ucee4\ub9e8\ub4dc\uc5d0\uc11c\ub294 \ub9c8\uc2a4\ud130\uac00 \uc790\ub3d9\uc73c\ub85c \ud3ec\ud568\ub418\uc9c0\ub9cc \uc5ec\uae30\uc11c\ub294 <code>rosrun</code>\uc73c\ub85c\ub9cc \ub178\ub4dc\ub97c \uc2e4\ud589\ud558\ubbc0\ub85c \ub9c8\uc2a4\ud130\ub97c \ucf1c\uc8fc\ub294 <code>roscore</code>\ub97c \uc785\ub825\ud574\uc90d\ub2c8\ub2e4. (\uacf5\uc2dd\ubb38\uc11c\ub9c1\ud06c)</p> <p>\uac01 \ud130\ubbf8\ub110\ub85c \uad6c\ubd84\ud55c \uba85\ub839\uc5b4\ub294 \ud130\ubbf8\ub110\uc744 \uc0c8\ub85c \uc5f4\uc5b4 \uac01 \ub2e4\ub978 \ud130\ubbf8\ub110\uc5d0\uc11c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <p>Termianl 2\uc5d0\uc11c\ub294 Publisher \ub178\ub4dc\uac00 \uc2e4\ud589 \uc911\uc774\uba70 Terminal 3\uc5d0\uc11c\ub294 1Hz\uc758 \uc18d\ub3c4\ub85c \"Hello, ROS!\" \uba54\uc2dc\uc9c0\uac00 \ub098\uc624\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p><code>rostopic echo</code>\ub294 \uc6d0\ud558\ub294 \ud1a0\ud53d\uc758 \uc815\ubcf4\ub97c \ubc1b\uc544\ubcfc \uc218 \uc788\ub294 \uba85\ub839\uc5b4\uc785\ub2c8\ub2e4. <code>echo</code> \uc678\uc5d0\ub3c4 \uc5ec\ub7ec \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc2e4\ud589\ub418\uace0 \uc788\ub294 \ud1a0\ud53d\ub4e4\uc758 \uc0c1\ud0dc\uc640 \uc815\ubcf4\ub97c \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ub9c1\ud06c\uc5d0 \uc124\uba85\ub418\uc5b4 \uc788\uace0, \ub514\ubc84\uae45\uc5d0 \uc790\uc8fc \uc0ac\uc6a9\ud558\uac8c \ub418\ub2c8 \ucd94\ud6c4 \uc790\uc5f0\uc2a4\ub808 \uc775\ud788\uba74 \ub429\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/1_simple_pub_sub_node/#section-3-writing-a-simple-subscriber-node","title":"Section 3: Writing a Simple Subscriber Node","text":"<p>3.1 Creating the Source File</p> <p>\uc774\uc81c <code>rostopic echo</code> \ub300\uc2e0 \ub178\ub4dc\ub97c \ud1b5\ud574 \ud1a0\ud53d\uc744 subscribe \ud574\ubd05\ub2c8\ub2e4.</p> <pre><code>cd ~/catkin_ws/src/im_newbie/src\ntouch subscriber_node.cpp\n</code></pre> <p>3.2 Writing the Code</p> <p>\uc5d0\ub514\ud130\ub85c <code>subscriber_node.cpp</code> \ud30c\uc77c\uc744 \uc5f4\uace0 \uc544\ub798 \ucf54\ub4dc\ub97c \uc785\ub825\ud569\ub2c8\ub2e4.</p> <pre><code>#include &lt;ros/ros.h&gt;\n#include &lt;std_msgs/String.h&gt;\n\nvoid messageCallback(const std_msgs::String::ConstPtr&amp; msg) {\n    ROS_INFO(\"Received message: %s\", msg-&gt;data.c_str());\n}\n\nint main(int argc, char** argv) {\n    ros::init(argc, argv, \"subscriber_node\");\n    ros::NodeHandle nh;\n\n    /**\n     * subscribe() \ud568\uc218\ub294 \ud2b9\uc815 \ud1a0\ud53d\uc5d0 \ub300\ud55c \uba54\uc2dc\uc9c0\ub97c \uc218\uc2e0\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4.\n     * \uba54\uc2dc\uc9c0\ub294 \ucf5c\ubc31 \ud568\uc218\uc5d0 \uc804\ub2ec\ub418\uba70, \uc5ec\uae30\uc11c\ub294 messageCallback()\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4.\n     * subscribe() \ud568\uc218\uc758 \ub450 \ubc88\uc9f8 \ub9e4\uac1c \ubcc0\uc218\ub294 \uba54\uc2dc\uc9c0 \ud050\uc758 \ud06c\uae30\uc785\ub2c8\ub2e4. \uba54\uc2dc\uc9c0\uac00 \ucc98\ub9ac\ub418\ub294 \uc18d\ub3c4\ubcf4\ub2e4 \ube68\ub9ac \ub3c4\ucc29\ud558\ub294 \uacbd\uc6b0 \uac00\uc7a5 \uc624\ub798\ub41c \uba54\uc2dc\uc9c0\ub97c \ubc84\ub9ac\uae30 \uc2dc\uc791\ud558\uae30 \uc804\uc5d0 \ubc84\ud37c\ub9c1\ub418\ub294 \uba54\uc2dc\uc9c0 \uc218\uc785\ub2c8\ub2e4.\n     */\n    // \uc55e\uc11c \uc120\uc5b8\ud55c NodeHandle nh\uc758 subscribe() \ud568\uc218\ub97c \uc774\uc6a9\ud558\uc5ec \"my_topic\" \ud1a0\ud53d\uc744 \uc218\uc2e0\ud558\uace0 \uc774\ub97c messageCallback() \ud568\uc218\uc5d0 \ub118\uaca8\uc90d\ub2c8\ub2e4.\n    ros::Subscriber sub = nh.subscribe(\"my_topic\", 10, messageCallback);\n\n    /**\n     * ros::spin()\uc740 \ucf5c\ubc31\uc744 \ud38c\ud551\ud558\ub294 \ub8e8\ud504\uc5d0 \ub4e4\uc5b4\uac11\ub2c8\ub2e4. \uc774 \ubc84\uc804\uc5d0\uc11c\ub294 \ubaa8\ub4e0 \ucf5c\ubc31\uc774 \uc774 \uc2a4\ub808\ub4dc(\uba54\uc778 \uc2a4\ub808\ub4dc) \ub0b4\uc5d0\uc11c \ud638\ucd9c\ub429\ub2c8\ub2e4.\n     * Ctrl-C\ub97c \ub204\ub974\uac70\ub098 \ub9c8\uc2a4\ud130\uc5d0 \uc758\ud574 \ub178\ub4dc\uac00 \uc885\ub8cc\ub418\uba74 ros::spin()\uc774 \uc885\ub8cc\ub429\ub2c8\ub2e4.\n     */\n    ros::spin();\n\n    return 0;\n}\n</code></pre> <p>3.3 Building the Node</p> <p>im_newbie \ud3f4\ub354 \uc544\ub798\uc5d0 \uc788\ub294 <code>CMakeLists.txt</code>\ud30c\uc77c\uc744 \uc5f4\uace0 \uc544\ub798 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4.</p> <pre><code>add_executable(subscriber_node src/subscriber_node.cpp)\ntarget_link_libraries(subscriber_node ${catkin_LIBRARIES})\n</code></pre> <p>\ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \ud328\ud0a4\uc9c0\uc640 Subscriber \ub178\ub4dc\ub97c \ube4c\ub4dc\ud569\ub2c8\ub2e4.</p> <pre><code>cd ~/catkin_ws\ncatkin build # or catkin build im_newbie\n</code></pre> <p>3.4 Running the Node</p> <p>\uc704\uc5d0\uc11c \uc791\uc131\ud55c Publisher \ub178\ub4dc\uc640 \ud568\uaed8 Subscriber \ub178\ub4dc\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.</p> <pre><code># Terminal 1\n$ roscore\n\n# Terminal 2\n$ rosrun im_newbie publisher_node\n\n# Terminal 3\n$ rosrun im_newbie subscriber_node\n</code></pre> <p>\uc774\uc81c Subscriber \ub178\ub4dc\ub97c \uc2e4\ud589\ud55c \uc138 \ubc88\uc9f8 \ud130\ubbf8\ub110\uc5d0\uc11c <code>\"my_topic\"</code> \ud1a0\ud53d\uc744 \uc218\uc2e0\ud558\uae30 \uc2dc\uc791\ud558\uace0 \uc218\uc2e0\ub41c \uba54\uc2dc\uc9c0\uc5d0 \ub2f4\uae34 <code>data</code> \ubd80\ubd84\uc744 \ud45c\uc2dc\ud569\ub2c8\ub2e4.</p> <p>\uc704\uc5d0\uc11c \uc791\uc131\ud55c <code>subscriber_node.cpp</code>\uc5d0 \ubcf4\uba74 <code>printf</code>\ub098 <code>std::cout</code>\uc774 \uc544\ub2cc <code>ROS_INFO</code>\ub97c \ud1b5\ud574 \uba54\uc138\uc9c0\ub97c \ucd9c\ub825\ud558\ub3c4\ub85d \ud558\uc600\uc2b5\ub2c8\ub2e4.</p> <p>ROS\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \ud130\ubbf8\ub110 \ucd9c\ub825 \ud568\uc218\ub85c \ubcf4\ud1b5 <code>ROS_INFO</code>\ub098 <code>ROS_WARN</code> \ub4f1\uc744 \ud1b5\ud574 \ud130\ubbf8\ub110 \ucd9c\ub825\uc744 \ud569\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ub9c1\ud06c\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p><code>printf</code>\uc640 <code>ROS_INFO</code>\uc640\uc758 \ucc28\uc774\ub294 ROS_INFO vs printf \uc5d0 \uc88b\uc740 \ub2f5\ubcc0\uc774 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/2_custom_msg/","title":"2.2 \uba54\uc138\uc9c0\uc5d0 \ub300\ud55c \uc774\ud574\uc640 \ucee4\uc2a4\ud140 \uba54\uc138\uc9c0 \ub2e4\ub8e8\uae30","text":""},{"location":"02_ros_noetic_basic/2_custom_msg/#section-1-introduction-to-ros-message","title":"Section 1: Introduction to ROS Message","text":"<p>1.1 Introduction</p> <p>ROS \uba54\uc2dc\uc9c0(msg)\ub294 ROS \uba54\uc2dc\uc9c0\uc758 \ud544\ub4dc\ub97c \uc124\uba85\ud558\ub294 \uac04\ub2e8\ud55c \ud14d\uc2a4\ud2b8 \ud30c\uc77c\uc785\ub2c8\ub2e4. \uc774 \ud30c\uc77c\uc740 \uc5ec\ub7ec \uc5b8\uc5b4\ub85c \ub41c \uba54\uc2dc\uc9c0\uc758 \uc18c\uc2a4 \ucf54\ub4dc\ub97c \uc0dd\uc131\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</p> <p>\uc8fc\ub85c <code>msg</code>\uacbd\ub85c\ub97c \ud328\ud0a4\uc9c0 \uacbd\ub85c\uc5d0 \ub9cc\ub4e4\uc5b4\uc11c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\uc6b0\ub9ac\uac00 \uc55e\uc120 \ub178\ub4dc \uc791\uc131\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc600\ub358 <code>std_msgs/String</code> \ud0c0\uc785\uc740 \ub2e4\uc74c \ub9c1\ud06c\uc5d0\uc11c \uc815\uc758\ub97c \uc0b4\ud3b4\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>string data\n</code></pre> <p>\uc6b0\ub9ac\uac00 \ub2e4\uc74c \uc2e4\uc2b5\uc5d0\uc11c \uc0ac\uc6a9\ud560 <code>geometry_msgs/Twist</code>\ub77c\ub294 \uba54\uc138\uc9c0\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc815\uc758\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ub9c1\ud06c</p> <pre><code>geometry_msgs/Vector3 linear\ngeometry_msgs/Vector3 angular\n</code></pre> <p>\uc774\ub807\uac8c \uc5ec\ub7ec \uac1c\uc758 \uba54\uc138\uc9c0 \ud0c0\uc785\uc73c\ub85c \uc870\ud569\ub41c \uba54\uc138\uc9c0\ub3c4 \uc788\ub294\ub370, <code>geometry_msgs/Vector3</code>\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc815\uc758\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ub9c1\ud06c</p> <pre><code>float64 x\nfloat64 y\nfloat64 z\n</code></pre> <p>\ub530\ub77c\uc11c <code>msg</code>\ub294 \ub2e8\uc21c\ud558\uac8c ROS\uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5\ud55c \ud1a0\ud53d\uc758 \uc790\ub8cc\ud615\uc774\ub77c\uace0 \uc774\ud574\ud558\uba74 \ub429\ub2c8\ub2e4.</p> <p>1.2 ROS Message Commands</p> <p>\uc55e\uc11c \ubc30\uc6b4 <code>rostopic</code> \uba85\ub839\uc5b4\uc640 \ub9c8\ucc2c\uac00\uc9c0\ub85c \uba54\uc138\uc9c0\ub97c \ub2e4\ub8e8\ub294 <code>rosmsg</code> \uba85\ub839\uc5b4\ub4e4\uc774 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>ROS \ud658\uacbd\uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5\ud55c \uba54\uc138\uc9c0 \ud0c0\uc785\ub4e4\uc744 \ubcf4\uae30\uc704\ud55c \uba85\ub839\uc5b4\uc785\ub2c8\ub2e4.</p> <pre><code>rosmsg list\n</code></pre> <p>\ud2b9\uc815 \uba54\uc138\uc9c0\uc758 \uad6c\uc870\ub098 \uc815\uc758\ub97c \ubcfc \ub54c\ub294 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p><pre><code>rosmsg show [message_type]\n</code></pre> \uc774\ub7ec\ud55c \uba85\ub839\uc5b4\ub4e4\uc740 \ub9c1\ud06c\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/2_custom_msg/#section-2-creating-a-custom-msg","title":"Section 2: Creating a custom msg","text":"<p>2.1 Define your message</p> <p>\uc774\uc81c \ud544\uc694\uc5d0 \ub9de\uac8c \uc0c8\ub85c\uc6b4 \uba54\uc138\uc9c0\ub97c \uc791\uc131\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uc804 <code>publisher_node</code>\uc640 <code>subscriber_node</code>\ub294 <code>std_msgs/String</code> \uba54\uc138\uc9c0\ub9cc \ub2f4\uace0 \uc788\uc5c8\uc9c0\ub9cc \uba87 \ubc88\uc9f8 \ud1a0\ud53d\uc778\uc9c0\ub294 \uc54c \uc218 \uc5c6\uc5c8\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\ubc88 \uc139\uc158\uc5d0\uc11c\ub294 <code>publisher_node</code>\uc5d0\uc11c \ubcf4\ub0b8 \ud69f\uc218\uc640 \ubb38\uc790\uc5f4\uc744 \ud568\uaed8 \ubcf4\ub0bc \uc218 \uc788\ub3c4\ub85d \uc0c8\ub85c\uc6b4 \uba54\uc138\uc9c0\ub97c \ub9cc\ub4e4\uc5b4 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud130\ubbf8\ub110\uc5d0 \uc785\ub825\ud569\ub2c8\ub2e4. <pre><code>roscd im_newbie\nmkdir msg\ncd msg &amp;&amp; touch Hello.msg\n</code></pre> <code>roscd</code>\ub294 \uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud328\ud0a4\uc9c0 \uacbd\ub85c\ub85c \uac08 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc720\uc0ac\ud558\uac8c\ub294 <code>cd $(rospack find im_newbie)</code>\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <p>\uc774\uc81c <code>msg</code>\ud3f4\ub354\ub97c \ub9cc\ub4e4\uace0 <code>Hello.msg</code>\ub77c\ub294 \ud30c\uc77c\uc744 \ub9cc\ub4e4\uc5b4\uc11c \uc5f4\uc5b4\uc90d\ub2c8\ub2e4.</p> <p>\uac70\uae30\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \uc791\uc131\ud569\ub2c8\ub2e4. <pre><code>int32 num\nstd_msgs/String message\n</code></pre> \uc77c\ubc18\uc801\uc778 <code>string</code>\ub3c4 \uc0ac\uc6a9\uac00\ub2a5\ud558\uc9c0\ub9cc ROS \uba54\uc138\uc9c0\uc5d0 \ub300\ud574 \uc870\uae08 \ub354 \uc774\ud574\ud558\uace0\uc790 <code>std_msgs/String</code>\uc744 \uc0ac\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4.</p> <p>2.2 Building .msg Files</p> <p>\uc0c8\ub85c \uc791\uc131\ud55c <code>msg</code>\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 <code>package.xml</code>\uacfc <code>CMakeLists.txt</code>\ub97c \uc218\uc815\ud574\uc900 \ud6c4 \ube4c\ub4dc\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <p><code>package.xml</code>\uc5d0\ub294 \ub2e4\uc74c \ub0b4\uc6a9\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.</p> <pre><code>  &lt;build_depend&gt;message_generation&lt;/build_depend&gt;\n  &lt;exec_depend&gt;message_runtime&lt;/exec_depend&gt;\n</code></pre> <p><code>CMakeLists.txt</code>\uc5d0\ub294 \uc544\ub798 \ub0b4\uc6a9\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.</p> <pre><code>find_package(catkin REQUIRED\n  # ...\n  message_generation\n)\n\n# ...\n\ncatkin_package(\n  ...\n  CATKIN_DEPENDS message_runtime ...\n  ...)\n\n# ...\n\nadd_message_files(\n  FILES\n  Hello.msg\n)\n\ngenerate_messages(\n  DEPENDENCIES\n  std_msgs\n)\n</code></pre> <p>\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ub9c1\ud06c\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>2.3 Modifying the Publisher and Subscriber Nodes</p> <p>Publisher \ubc0f Subscriber \ub178\ub4dc\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc9c0\uc815 \uba54\uc2dc\uc9c0\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc18c\uc2a4 \ud30c\uc77c\uc744 \uc218\uc815\ud569\ub2c8\ub2e4</p> <p><code>publisher_node.cpp</code>\uc5d0\uc11c - \uc791\uc131\ud55c custom \uba54\uc138\uc9c0\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.:   <pre><code>#include &lt;im_newbie/Hello.h&gt;\n</code></pre> - \uba54\uc138\uc9c0 \ud0c0\uc785 <code>im_newbie::Hello</code>\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4 (\uae30\uc874\uc758 \ubd88\ud544\uc694\ud55c \ub0b4\uc6a9\uc740 \uc9c0\uc6cc\uc90d\ub2c8\ub2e4):   <pre><code>im_newbie::Hello msg;\nmsg.num = count;\nmsg.message.data = \"Hello, ROS!\";\n</code></pre> - <code>ros::Publisher pub</code>\uc5d0 \uc815\uc758\ub41c \uba54\uc138\uc9c0 \ud0c0\uc785\uc744 <code>&lt;im_newbie::Hello&gt;</code>\ub85c \ubc14\uafd4\uc90d\ub2c8\ub2e4.</p> <ul> <li>\uba54\uc138\uc9c0\ub97c publish\ud569\ub2c8\ub2e4:   <pre><code>pub.publish(msg);\n</code></pre></li> <li>while\ubb38 \ub9c8\uc9c0\ub9c9\uc5d0 count\ub97c \uc99d\uac00\uc2dc\ud0b5\ub2c8\ub2e4:   <pre><code>int count;\nwhile(ros::ok()) {\n  // ...\uc0dd\ub7b5\n  ++count;\n}\n</code></pre></li> </ul> <p><code>subscriber_node.cpp</code>\uc5d0\uc11c\ub294:</p> <ul> <li>\ub9c8\ucc2c\uac00\uc9c0\ub85c \uba54\uc138\uc9c0 \ud5e4\ub354\ud30c\uc77c\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4:   <pre><code>#include &lt;im_newbie/Hello.h&gt;\n</code></pre></li> <li>callback \ud568\uc218\ub97c \uba54\uc138\uc9c0 \ud0c0\uc785\uc5d0 \ub9de\uac8c \uc218\uc815\ud569\ub2c8\ub2e4:   <pre><code>void messageCallback(const im_newbie::Hello::ConstPtr&amp; msg) {\n  ROS_INFO(\"%d -th Received message: %s\", msg-&gt;num, msg-&gt;message.data.c_str());\n}\n</code></pre> \uc791\uc131\uc774 \uc644\ub8cc\ub418\uba74 \ub9c8\ucc2c\uac00\uc9c0\ub85c \ube4c\ub4dc\ub97c \ud574\uc90d\ub2c8\ub2e4.</li> </ul> <p><code>catkin build</code>\ub294 \uac04\ud3b8\ud558\uac8c \uac1c\ubcc4\uc801\uc778 \ud328\ud0a4\uc9c0\ub9cc \ube4c\ub4dc\ud558\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. im_newbie \ud328\ud0a4\uc9c0 \uc704\uce58\uc5d0\uc11c <code>catkin build --this</code>\ub97c \ud574\uc8fc\uba74 \ube60\ub974\uac8c \uc704\uce58\uc5d0 \uc788\ub294 \ud328\ud0a4\uc9c0\ub9cc \ube4c\ub4dc\ud569\ub2c8\ub2e4.</p> <pre><code># ~/catkin_ws/src/im_newbie$\ncatkin build --this\n</code></pre> <p>\ube4c\ub4dc\uac00 \uc644\ub8cc\ub418\uba74 \uc774\uc804\ucc98\ub7fc \uac01 \ub178\ub4dc\ub4e4\uc744 \ud130\ubbf8\ub110\uc5d0\uc11c \uc5f4\uace0 \uc2e4\ud589\ud574\ubd05\ub2c8\ub2e4. <pre><code># Terminal 1\nroscore\n# Terminal 2\nrosrun im_newbie publisher_node\n# Terminal 3\nrosrun im_newbie subscriber_node\n</code></pre></p> <p>2.4 Add Dependencies</p> <p>\uc774\uc81c \uae30\uc874\uc758 \ub178\ub4dc\ub4e4\uc740 \ub9cc\ub4e4\uc5b4\uc9c4 \uba54\uc138\uc9c0\ub97c \uc758\uc874\uc131\uc73c\ub85c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.</p> <p>\uc9c0\uae08\uc740 <code>publisher_node</code>\uc640 <code>subscriber_node</code>\uac00 \uc774\uc804\uc5d0 \ube4c\ub4dc\uac00 \ub418\uc5c8\uace0, \uc0c8\ub85c\uc6b4 \uba54\uc138\uc9c0\ub97c \uadf8 \ud6c4\uc5d0 \ucd94\uac00\ud574\uc11c \ube4c\ub4dc\ud558\uc600\uae30 \ub54c\ubb38\uc5d0 \ube4c\ub4dc \uacfc\uc815\uc5d0\uc11c \ubcc4\ub2e4\ub978 \uc5d0\ub7ec\uac00 \ub098\ud0c0\ub098\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.</p> <p>\ud558\uc9c0\ub9cc \uc0c8\ub85c\uc6b4 \uba54\uc138\uc9c0\ub97c \ub9cc\ub4e6\uacfc \ub3d9\uc2dc\uc5d0 \ub178\ub4dc\ub97c \uc791\uc131\ud558\uc600\ub2e4\uba74 CMakeLists.txt\ub97c \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.</p> <pre><code>add_executable(publisher_node src/publisher_node.cpp)\nadd_dependencies(publisher_node im_newbie_generate_messages_cpp)\ntarget_link_libraries(publisher_node ${catkin_LIBRARIES})\n\nadd_executable(subscriber_node src/subscriber_node.cpp)\nadd_dependencies(subscriber_node im_newbie_generate_messages_cpp)\ntarget_link_libraries(subscriber_node ${catkin_LIBRARIES})\n</code></pre> <p>\uc6b0\ub9ac\uac00 <code>package.xml</code>\uc5d0\uc11c \ub123\uc5b4\uc900 <code>message_generation</code>\uc5d0\uc11c \ub9cc\ub4e4\uc5b4\uc9c0\ub294 \uc0c8\ub85c\uc6b4 \uba54\uc138\uc9c0 \ud0c0\uc785\uc744 \uc758\uc874\uc131\uc73c\ub85c \uac00\uc9c4\ub2e4\uace0 \uc120\uc5b8\ud574\uc8fc\ub294 \uac83\uc785\ub2c8\ub2e4.</p> <p>\uc544\ub798\ub294 \uc6b0\ub9ac\uac00 \uc0c8\ub85c \ub9cc\ub4e4\uc5b4\uc900 \uba54\uc138\uc9c0\ub97c \uc0ac\uc6a9\ud558\ub294 cpp \uc2a4\ud06c\ub9bd\ud2b8 \uc608\uc2dc\uc785\ub2c8\ub2e4. <pre><code>#include &lt;im_newbie/Hello.h&gt;\n</code></pre></p> <p>\ucc98\uc74c \uac01 \ub178\ub4dc\ub4e4\uc744 \ube4c\ub4dc\ud558\uace0\uc790 \ud560 \ub54c \ub9c8\uc8fc\uce58\ub294 <code>include</code>\ubb38\uc5d0\uc11c \ucef4\ud30c\uc77c\ub7ec \uc785\uc7a5\uc5d0\uc11c\ub294 \ucc98\uc74c \ubcf4\ub294 \ud5e4\ub354\ud30c\uc77c\uc744 \ube4c\ub4dc\ud574\uc57c \ud558\ubbc0\ub85c \uc5d0\ub7ec\ub97c \ub0b4\uac8c \ub429\ub2c8\ub2e4.</p> <p>\uc704\uc5d0\uc11c \uc218\uc815\ud574\uc900 <code>CMakeLists.txt</code>\uc5d0\uc11c\ub294 \uac01 \ub178\ub4dc\uc5d0 \uc758\uc874\uc131\uc744 \uc120\uc5b8\ud568\uc73c\ub85c\uc368 \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud574\uc90d\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/3_roslaunch/","title":"2.3 roslaunch\ub85c \uc5ec\ub7ec \ub178\ub4dc \uc2e4\ud589\ud558\uae30","text":""},{"location":"02_ros_noetic_basic/3_roslaunch/#section-1-create-the-launch-file","title":"Section 1. Create the Launch File","text":"<p>\uc774\uc804\uc5d0 \uc791\uc131\ud55c <code>publisher_node</code>\uc640 <code>subscriber_node</code>\ub97c \uc2e4\ud589\ud558\uae30 \uc704\ud574\uc11c\ub294 <code>roscore</code>\ub97c \ud3ec\ud568\ud574 3\uac1c\uc758 \ud130\ubbf8\ub110\uc744 \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \ubc88\uac70\ub85c\uc6c0\uc774 \uc788\uc5c8\uc2b5\ub2c8\ub2e4.</p> <p>\uc5ec\ub7ec \uac1c\uc758 \ub178\ub4dc\ub4e4\uc744 \ud55c \ubc88\uc5d0 \uc2e4\ud589\ud574\uc8fc\ub294 <code>roslaunch</code>\ub97c \ud1b5\ud574 \ud55c \uac1c\uc758 \ud130\ubbf8\ub110\ub85c \uc774\uc804\uc5d0 \uc791\uc131\ud55c \ub178\ub4dc\ub4e4\uc744 \uc2e4\ud589\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>1.1 Create the launch file</p> <pre><code>roscd im_newbie\nmkdir launch\ncd launch\ntouch hell_ros.launch\n</code></pre> <p>\ub7f0\uce58\ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \uc791\uc131\ud574\uc90d\ub2c8\ub2e4. <pre><code>&lt;launch&gt;\n  &lt;node pkg=\"im_newbie\" type=\"publisher_node\" name=\"this_is_publisher\" output=\"screen\"/&gt;\n  &lt;node pkg=\"im_newbie\" type=\"subscriber_node\" name=\"this_is_subcriber\" output=\"screen\"/&gt;\n&lt;/launch&gt;\n</code></pre></p> <p><code>package.xml</code>\ub3c4 \uc218\uc815\ud569\ub2c8\ub2e4. <pre><code>    &lt;build_depend&gt;roslaunch&lt;/build_depend&gt;\n</code></pre></p> <p><code>CMakeLists.txt</code>\uc5d0 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4. <pre><code>find_package(catkin REQUIRED COMPONENTS\n  # ...\n  roslaunch\n)\n</code></pre></p> <p>\uc218\uc815\uc774 \uc644\ub8cc\ub418\uba74 \ube4c\ub4dc\ud569\ub2c8\ub2e4.</p> <p>1.2 Run multiple nodes with roslaunch</p> <p>\uc774\uc81c \uc791\uc131\ud55c \ub7f0\uce58\ud30c\uc77c\uc744 \uc2e4\ud589\ud574\uc90d\ub2c8\ub2e4. <pre><code>roslaunch im_newbie hello_ros.launch\n</code></pre></p>"},{"location":"02_ros_noetic_basic/3_roslaunch/#section-2-how-to-use-roslaunch","title":"Section 2. How to use roslaunch","text":"<p><code>roslaunch</code>\ub294 \uc5ec\ub7ec \ub178\ub4dc\ub4e4\uc744 \uc2e4\ud589\uc2dc\ud0a4\ub294 \uac83 \uc678\uc5d0\ub3c4 \uc5ec\ub7ec \uae30\ub2a5\ub4e4\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li> <p>Roslaunch tips for larger projects</p> </li> <li> <p>roslaunch</p> </li> <li> <p>roslaunch XML</p> </li> <li> <p>roslaunch\uc758 \uc0ac\uc6a9\ubc95 \ubc0f XML</p> </li> </ul> <p>\uc704 \ub9c1\ud06c\ub4e4\uc5d0 \uc790\uc138\ud558\uac8c \uc124\uba85\ub418\uc5b4 \uc788\uc73c\uba70, \uc774 \uc911 \ub300\ud45c\uc801\uc778 \uc0ac\uc6a9\ubc29\ubc95\ub4e4\uc744 \uc608\uc2dc\ub97c \ud1b5\ud574 \uc54c\uc544\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code>&lt;launch&gt;\n    &lt;arg name=\"fcu_url\" default=\"/dev/ttyPixhawk:57600\"/&gt;\n    &lt;arg name=\"gcs_url\" default=\"\" /&gt;\n    &lt;arg name=\"tgt_system\" default=\"1\" /&gt;\n    &lt;arg name=\"tgt_component\" default=\"1\" /&gt;\n    &lt;arg name=\"pointcloud_topics\" default=\"[/camera/depth/points]\"/&gt;\n    &lt;arg name=\"json_file_path\"      default=\"$(find koreauav2023)/params/stereo_calib.json\"/&gt;\n\n    &lt;!-- Launch MavROS --&gt;\n    &lt;include file=\"$(find mavros)/launch/node.launch\"&gt;\n        &lt;arg name=\"pluginlists_yaml\" value=\"$(find mavros)/launch/px4_pluginlists.yaml\" /&gt;\n        &lt;arg name=\"config_yaml\" value=\"$(find avoidance)/resource/px4_config.yaml\" /&gt;\n        &lt;arg name=\"fcu_url\" value=\"$(arg fcu_url)\" /&gt;\n        &lt;arg name=\"gcs_url\" value=\"$(arg gcs_url)\" /&gt;\n        &lt;arg name=\"tgt_system\" value=\"$(arg tgt_system)\" /&gt;\n        &lt;arg name=\"tgt_component\" value=\"$(arg tgt_component)\" /&gt;\n    &lt;/include&gt;\n\n    &lt;!-- Launch cameras --&gt;\n    &lt;node pkg=\"tf\" type=\"static_transform_publisher\" name=\"tf_camera\" required=\"true\"\n        args=\"0.13 0 0.115 0 0 0 fcu camera_link 10\"/&gt;\n\n    &lt;include file=\"$(find koreauav2023)/launch/rs_depthcloud.launch\"&gt;\n        &lt;arg name=\"required\"              value=\"true\"/&gt;\n        &lt;arg name=\"tf_prefix\"             value=\"camera\"/&gt;\n        &lt;arg name=\"enable_color\"          value=\"true\" /&gt;\n        &lt;arg name=\"enable_infra1\"         value=\"false\" /&gt;\n        &lt;arg name=\"depth_fps\"             value=\"15\"/&gt;\n        &lt;arg name=\"json_file_path\"           value=\"$(arg json_file_path)\"/&gt;\n        &lt;arg name=\"align_depth\"           value=\"true\"/&gt;\n    &lt;/include&gt;\n\n    &lt;!-- Launch local planner --&gt;\n    &lt;node name=\"local_planner_node\" pkg=\"local_planner\" type=\"local_planner_node\" output=\"screen\" required=\"true\" &gt;\n        &lt;param name=\"goal_x_param\" value=\"0\" /&gt;\n        &lt;param name=\"goal_y_param\" value=\"0\"/&gt;\n        &lt;param name=\"goal_z_param\" value=\"3\" /&gt;\n        &lt;param name=\"accept_goal_input_topic\" value=\"true\" /&gt;\n        &lt;rosparam param=\"pointcloud_topics\" subst_value=\"True\"&gt;$(arg pointcloud_topics)&lt;/rosparam&gt;\n    &lt;/node&gt;\n\n    &lt;!-- GPS to ENU--&gt;\n    &lt;include file=\"$(find koreauav_utils)/launch/yaml_to_gps.launch\"/&gt;\n    &lt;include file=\"$(find koreauav_utils)/launch/gps_to_enu.launch\"/&gt;\n&lt;/launch&gt;\n</code></pre> <p>\uc704 \ub7f0\uce58\ud30c\uc77c\uc740 mavros\ub97c \uc774\uc6a9\ud574 \ud50c\ub798\ub108\uc640 \uc2e4\uc81c Pixhawk FC\uc640 \uc5f0\uacb0\ud558\ub294 \ub178\ub4dc\ub4e4, \uadf8\ub9ac\uace0 \ub2e4\ub978 \ub7f0\uce58\ud30c\uc77c\ub4e4\uc744 \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>2.1 <code>&lt;node&gt;</code></p> <p>\ub7f0\uce58\ud30c\uc77c\uc740 XML \ud615\uc2dd\uc73c\ub85c \uc791\uc131\ub418\uba70 <code>&lt;node&gt;</code>\ub294 Section 1\uc5d0\uc11c \ub2e4\ub8ec \uac83 \ucc98\ub7fc \ub178\ub4dc\ub97c \uc2e4\ud589\uc2dc\ud0b5\ub2c8\ub2e4.</p> <p>\uc774 <code>&lt;node&gt;</code> \ud0dc\uadf8\uc5d0\ub294 pkg, type, name\uc740 \ud544\uc218\ub85c \ud544\uc694\ud569\ub2c8\ub2e4. pkg\ub294 \uc2e4\ud589\uc2dc\ud0ac \ub178\ub4dc\uac00 \ub4e4\uc5b4\uac00 \uc788\ub294 \ud328\ud0a4\uc9c0, type\uc740 \uc2e4\ud589\uc2dc\ud0ac \ub178\ub4dc\uc758 \uc774\ub984(rosrun\ud560 \ub54c \ub4e4\uc5b4\uac00\ub294 \uc2e4\ud589\uba85\ub839 \uc774\ub984)\uc774\uace0 name\uc740 \uc124\uc815\ud574\uc904 \ub178\ub4dc\uc758 \uc774\ub984\uc785\ub2c8\ub2e4.</p> <p>\uadf8\ub798\uc11c \uac19\uc740 \ub178\ub4dc\ub97c \uc5ec\ub7ec \ubc88 \uc2e4\ud589\uc2dc\ud0a4\ub294 \uacbd\uc6b0 name\uc744 \ub2e4\ub974\uac8c \ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4.</p> <p>\uc774 \uc678\uc5d0\ub3c4 <code>args</code>, <code>respawn</code>, <code>required</code>, <code>ns</code>, <code>output</code> \ub4f1\uc774 \ub9ce\uc774 \uc0ac\uc6a9\ub418\uace0 <code>if</code>\ubb38\uc774\ub098 <code>laucnh-prefix</code>\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <p><code>remap</code>, <code>rosparam</code>, <code>param</code>\ub4f1\uc744 \ud1b5\ud574 \ub178\ub4dc\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ud30c\ub77c\ubbf8\ud130\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud574\uc904 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ucc38\uace0\ub9c1\ud06c</p> <p>2.2 <code>&lt;arg&gt;</code></p> <p><code>&lt;arg&gt;</code>\ub294 \ucd94\ud6c4 \ub2e4\ub8f0 <code>&lt;param&gt;</code>\uacfc \ub2ec\ub9ac \ub7f0\uce58\ud30c\uc77c\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ubcc0\uc218\uc785\ub2c8\ub2e4.  <code>&lt;include&gt;</code>\ub85c \ud3ec\ud568\uc2dc\ud0a8 \ub2e4\ub978 \ub7f0\uce58\ud30c\uc77c\uc5d0 \uc774\ub97c \uc804\ub2ec\ud560 \uc218\ub3c4 \uc788\uace0, \ub2e4\ub978 \ub178\ub4dc\uc5d0 \ud30c\ub77c\ubbf8\ud130\ub85c \ub118\uaca8\uc904 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>ROS\uc758 Parameter Server\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 rosparam\uc774\ub098 \ub178\ub4dc \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 param \ub2ec\ub9ac <code>&lt;arg&gt;</code>\ub294 roslaunch\ub85c \uc2e4\ud589\ud560 \ub54c \uc678\ubd80\uc5d0\uc11c \ubcc0\uacbd\ud574\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4</p> <p><pre><code>roslaunch koreauav2023 rs_depthcloud.launch --enable_color:=false\n</code></pre> \ub85c \ud574\uc8fc\uba74 \uc704\uc5d0 \ub7f0\uce58\ud30c\uc77c\uc5d0\uc11c\ub294 <code>enable_color</code>\ub97c <code>true</code>\ub85c \ud574\ub450\uc5c8\uc9c0\ub9cc <code>false</code>\ub85c \ud574\uc11c \ub7f0\uce58\ud30c\uc77c\uc744 \uc2e4\ud589\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ucc38\uace0\ub9c1\ud06c</p> <p>2.3 <code>&lt;include&gt;</code></p> <p><code>&lt;include&gt;</code>\ub294 \ub2e4\ub978 \ub7f0\uce58 XML \ud30c\uc77c\uc744 \ud604\uc7ac \ud30c\uc77c\uc5d0 \ud3ec\ud568\uc2dc\ud0a4\ub294 \ud0dc\uadf8\uc785\ub2c8\ub2e4. \ud574\ub2f9 \ub7f0\uce58\ud30c\uc77c\uc774 \uadf8\ub300\ub85c \ud604\uc7ac \uc704\uce58\uc5d0 \ubcf5\uc0ac\ub418\uc5b4 \ub4e4\uc5b4\uc628\ub2e4\uace0 \uc774\ud574\ud574\ub3c4 \ub429\ub2c8\ub2e4.</p> <p>\uc704\uc758 \uc608\uc81c\ud30c\uc77c\uc5d0\uc11c <code>&lt;include&gt;</code>\ub97c \uc0ac\uc6a9\ud55c \ubd80\ubd84\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4.</p> <ul> <li><code>&lt;include file=\"$(find mavros)/launch/node.launch\"&gt;</code></li> <li><code>&lt;include file=\"$(find koreauav2023)/launch/rs_depthcloud.launch\"&gt;</code></li> <li><code>&lt;include file=\"$(find koreauav_utils)/launch/yaml_to_gps.launch\"/&gt;</code></li> </ul> <p><code>$(find pkg-name)</code>\uc73c\ub85c \ube4c\ub4dc\ub418\uc5b4 \uc788\ub294 ROS \ud328\ud0a4\uc9c0 \uacbd\ub85c\ub97c \uc5f0\uacb0\ud560 \uc218 \uc788\uace0, \uc5ec\uae30 \ud558\uc704\uc5d0 \uc788\ub294 \ub7f0\uce58\ud30c\uc77c\ub4e4\uc744 \ubd88\ub7ec\uc62c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ub9c8\ucc2c\uac00\uc9c0\ub85c <code>&lt;arg&gt;</code>\ud0dc\uadf8\ub85c \uc120\uc5b8\ub418\uc5b4 \uc788\ub294 \ubcc0\uc218\uba85\ub4e4\uc744 \uc0c1\uc704 \ub7f0\uce58\ud30c\uc77c\uc5d0\uc11c \uc218\uc815\ud574\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ucc38\uace0\ub9c1\ud06c</p> <p>2.4 <code>&lt;param&gt;</code> and <code>&lt;rosparam&gt;</code></p> <p>\ub450 \ud0dc\uadf8 \ubaa8\ub450 rosparam\uc5d0 \uc0ac\uc6a9\ub418\uc9c0\ub9cc \uc57d\uac04\uc758 \ucc28\uc774\ub294 \uc788\uc2b5\ub2c8\ub2e4. \uc2e4\uc81c \uc0ac\uc6a9\ub418\ub294 \uc608\uc2dc\ub294 \ucd94\ud6c4 \ucf54\ub4dc\ub97c \ud1b5\ud574 ROS \ud30c\ub77c\ubbf8\ud130\ub97c \uc0ac\uc6a9\ud560 \ub54c \ub2e4\ub904\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc544\ub798 \ub9c1\ud06c\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694.</p> <ul> <li> <p><code>&lt;param&gt;</code></p> </li> <li> <p><code>&lt;rosparam&gt;</code></p> </li> </ul> <p>\uc544\ub798 \ub9c1\ud06c\uc5d0 \ud55c\uad6d\uc5b4 \uc790\ub8cc\ub85c \uc704\uc5d0 \uc124\uba85\ud55c \ub0b4\uc6a9\uc744 \ub354 \uad6c\uccb4\uc801\uc774\uace0 \uc0c1\uc138\ud558\uac8c \uc124\uba85\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>roslaunch\uc758 \uc0ac\uc6a9\ubc95 \ubc0f XML</p>"},{"location":"02_ros_noetic_basic/4_rostime_sleep_and_spin/","title":"2.4 Time, Sleeping, Rates and Spinning","text":""},{"location":"02_ros_noetic_basic/4_rostime_sleep_and_spin/#section-1-ros-time-and-duration","title":"Section 1. ROS Time and Duration","text":"<p>1.1 Time</p> <p>ROS\uc5d0\uc11c\ub294 \uc790\uccb4\uc801\uc73c\ub85c \ub0b4\uc7a5\ub41c <code>ros::Time</code>\uacfc <code>ros::Duration</code>\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. <code>Time</code>\uc740 \ud2b9\uc815 \uc2dc\uc810\uc758 \uc2dc\uac01\uc774\uace0, <code>Duration</code>\uc740 \uc77c\uc815 \uae30\uac04\uc758 \uc2dc\uac04\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4.</p> <p>\uc790\ub8cc\ud615\uc740 \uc544\ub798\uc640 \uac19\uc774 \uad6c\uc131\ub429\ub2c8\ub2e4. <pre><code>int32 sec\nint32 nsec\n</code></pre></p> <p>\ub530\ub77c\uc11c $\\text{time}=\\text{sec}+\\text{nsec}*10e^{-9}$\uc73c\ub85c \uc804\uccb4 \uc2dc\uac04\uc744 \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ud604\uc7ac ROS \uc2dc\uac04\uc744 \uc5bb\uc744 \ub54c\ub294</p> <p><pre><code>ros::Time current_time = ros::Time::now();\n</code></pre> \uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\uc8fc\ub85c \uc774\ub7f0 \ud45c\ud604\uc740 \uba54\uc138\uc9c0 \uc790\ub8cc\ud615 \uc911 <code>std_msgs/Header</code>\uc758 <code>stamp</code>\uc5d0 \uac12\uc744 \ub123\uc744 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>ROS \ud658\uacbd\uc744 \uc2dc\ubbac\ub808\uc774\uc158\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ub54c\ub294 \uba54\uc138\uc9c0\uac00 publish\ub41c \uc2dc\uac04\uc774 \uc2dc\ubbac\ub808\uc774\uc158 \ub0b4\uc758 \uc2dc\uac04\uacfc \ub9de\uc544\uc57c \ud558\ubbc0\ub85c <code>Header</code>\ub97c \ud3ec\ud568\ud55c \uba54\uc138\uc9c0\ub4e4\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\uc544\ub798\ub294 \uc704\uce58\uc640 \uad00\ub828\ub41c \ud1a0\ud53d\uc5d0 \uc0ac\uc6a9\ub418\ub294 \uba54\uc138\uc9c0 \ud0c0\uc785\uc778 <code>geometry_msgs/PoseStamped</code>\ub97c publish\ud558\ub294 \ucf54\ub4dc \uc608\uc2dc\uc785\ub2c8\ub2e4.</p> <p><pre><code>geometry_msgs::PoseStamped msg;\nmsg.header.stamp = ros::Time::now();\nmsg.header.frame_id = \"fmu\";\n\n# geometry_msgs/Point\nmsg.pose.position.x = 2;\nmsg.pose.position.y = 0;\nmsg.pose.position.z = 0;\n# geometry_msgs/Quaternion\nmsg.pose.orientation.x = 0;\nmsg.pose.orientation.y = 0;\nmsg.pose.orientation.z = 0;\nmsg.pose.orientation.w = 1;\n\npose_pub.publsh(msg);\n</code></pre> \uc8fc\uc758\ud560 \uc810\uc740 ROS\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 time \uc790\ub8cc\ud615\uc740 \uc2e4\uc218\ud615\uacfc \ub2e4\ub985\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc2e4\uc218\ud615\uc73c\ub85c \ubc14\uafb8\uace0 \uc2f6\uc740 \uacbd\uc6b0\uc5d0\ub294 <code>.toSec()</code>\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>1.2 Duration</p> <p><code>ros::Duration</code>\uc740 \uc544\ub798\uc640 \uac19\uc774 \uc0ac\uc6a9\ud558\uba70, \ubcf4\ud1b5 \uc2dc\uac04\uc5d0 \ub354\ud574\uc8fc\uac70\ub098 <code>sleep</code>\uc5d0 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\ub4e4\uc5b4\uac00\ub294 \uc2e4\uc218\ud615\uc740 \ucd08 \ub2e8\uc704\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \ucd94\ud6c4 \ub2e4\ub8f0 <code>Rate</code>\uc640 \uc885\uc885 \ud63c\ub3d9\ud558\ub2c8 \uc798 \uae30\uc5b5\ud574\ub450\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4.</p> <pre><code>ros::Duration d(1.0); // 1\ucd08\nros::Time later = current_time + d;\n</code></pre>"},{"location":"02_ros_noetic_basic/4_rostime_sleep_and_spin/#section-2-rate-and-sleep","title":"Section 2. Rate and sleep","text":"<p>\ud1a0\ud53d\uc744 publish\ud558\ub294 \uc8fc\uae30\ub97c \uc77c\uc815\ud558\uac8c \ub9de\ucd94\uace0\uc790 \ub178\ub4dc\ub97c \uc77c\uc815 \uc2dc\uac04 \ub3d9\uc548 \uc911\uc9c0\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. (\ub300\ubd80\ubd84\uc758 \uc13c\uc11c \ub370\uc774\ud130 \uc218\uc2e0 \ud639\uc740 \uc81c\uc5b4 \uba85\ub839 \uc8fc\uae30\ub294 10Hz~ \uc774\uc0c1\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.)</p> <p>\uc774\ub7ec\ud55c \uacbd\uc6b0\uc5d0\ub294 <code>ros::Rate</code>\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\uac00\uc7a5 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 \uc608\uc2dc\uc785\ub2c8\ub2e4.</p> <p><pre><code>ros::Rate rate(10); // 10 Hz\nwhile (ros::ok()) {\n    // ... do something\n    rate.sleep();\n}\n</code></pre> \uc774\ub54c \ub4e4\uc5b4\uac00\ub294 \uc2e4\uc218\ud615 \uac12\uc740 Hz \ub2e8\uc704\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. 10 Hz\ub294 $\\frac{1}{10\\text{Hz}} = 0.1$\ucd08 \uc785\ub2c8\ub2e4.</p> <p>\uc55e\uc11c \uc5b8\uae09\ud55c \ub300\ub85c <code>ros::Duration</code>\uc744 \uc0ac\uc6a9\ud558\uae30\ub3c4 \ud569\ub2c8\ub2e4.</p> <p><pre><code>ros::Duration(1.0).sleep();\n// or\nros::Duration d(0.5);\nd.sleep();\n</code></pre> <code>sleep()</code>\uc740 \ub2e4\ub978 \uc5b8\uc5b4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uac83\ucc98\ub7fc \uc120\uc5b8\ub41c \uc2dc\uac04 \ub9cc\ud07c \ub178\ub4dc\ub97c \uc77c\uc2dc\uc815\uc9c0 \uc2dc\ud0b5\ub2c8\ub2e4.</p> <p>\ub530\ub77c\uc11c while\ubb38 \uc548\uc5d0\uc11c publish\uc640 \uac19\uc740 \ub3d9\uc791\uc744 \ud558\ub294 \uacbd\uc6b0 \ub2e4\uc74c\uacfc \uac19\uc774 <code>sleep()</code>\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4.</p> <p>Section 1~2\uae4c\uc9c0\uc758 \ub0b4\uc6a9\uc740 \ub9c1\ud06c\uc5d0 \uc790\uc138\ud788 \uc124\uba85\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"02_ros_noetic_basic/4_rostime_sleep_and_spin/#section-3-spin","title":"Section 3. Spin","text":"<p>ROS\ub294 Spinning\uc774\ub77c\ub294 \uac1c\ub150\uc744 \uc0ac\uc6a9\ud558\uc5ec Subscribe\uc758 \uba54\uc2dc\uc9c0\ub97c \ucc98\ub9ac\ud569\ub2c8\ub2e4. Spinning\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \uba54\uc2dc\uc9c0\uac00 \ub3c4\ucc29\ud560 \ub54c \ucf5c\ubc31\uc744 \ud638\ucd9c\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. Spinning\uc5d0\ub294 \uc544\ub798\uc640 \uac19\uc740 \uc885\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li> <p><code>ros::spin()</code>: \ub178\ub4dc\uac00 \uc885\ub8cc\ub420 \ub54c\uae4c\uc9c0 \ucf5c\ubc31\uc744 \ud638\ucd9c\ud558\ub294 \ub8e8\ud504\ub85c \ub4e4\uc5b4\uac11\ub2c8\ub2e4.</p> </li> <li> <p><code>ros::spinOnce()</code>: \ub3c4\ucc29\ud55c \ubaa8\ub4e0 \uba54\uc2dc\uc9c0\uc5d0 \ub300\ud574 \ucf5c\ubc31\uc744 \ud638\ucd9c\ud558\uc9c0\ub9cc \ucf54\ub4dc\ub97c \ucc28\ub2e8\ud558\uc9c0\ub294 \uc54a\uc2b5\ub2c8\ub2e4. \uc774 \ud568\uc218\ub97c <code>ros::Rate</code>\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud558\uc5ec \uc0c8 \uba54\uc2dc\uc9c0\ub97c \ud655\uc778\ud558\ub294 \ube48\ub3c4\ub97c \uc81c\uc5b4\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc2b5\ub2c8\ub2e4.</p> </li> <li> <p><code>ros::AsyncSpinner</code>: \uc5ec\ub7ec \ucf5c\ubc31\uc744 \ubcd1\ub82c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> </li> </ul> <p>\uc77c\ubc18\uc801\uc778 \uc2a4\ud540\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4. \ud074\ub798\uc2a4\uc5d0\uc11c NodeHandle\uacfc Publisher, Subscriber\ub97c \uc120\uc5b8\ud558\uc5ec \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub3c4 \uc790\uc8fc \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <pre><code>ros::spin();\n</code></pre> <p>\uc544\ub798\uc640 \uac19\uc740 \uacbd\uc6b0\ub294 \uc774\uc804 \uc608\uc81c\uc5d0\uc11c \uc81c\uacf5\ub41c \uc2a4\ud06c\ub9bd\ud2b8\uc5d0\uc11c \ubcf4\uc558\ub294\ub370, while\ubb38 \uc548\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 <code>ros::spin()</code>\uc744 \uc4f0\uba74 \ubc18\ubcf5\ubb38\uc774 \ub354\uc774\uc0c1 \ub3cc\uc9c0 \uc54a\uace0 <code>spin</code>\uc5d0 \uac07\ud788\uac8c \ub418\ubbc0\ub85c <code>spinOnce()</code>\ub97c \uc0ac\uc6a9\ud558\uace0 \uc8fc\uae30\ub97c \uc124\uc815\ud574\uc90d\ub2c8\ub2e4.</p> <p><pre><code>ros::Rate rate(10); // 10 Hz\nwhile (ros::ok()) {\n    ros::spinOnce();\n    rate.sleep();\n}\n</code></pre> \uc704\uc5d0\uc11c \uc81c\uc2dc\ub41c \uc885\ub958 \uc911 <code>AsyncSpinner</code>\ub294 \uc870\uae08 \ub354 \uc2ec\ud654\ub41c \uac1c\ub150\uc774\ubbc0\ub85c \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \uc0dd\ub7b5\ud558\uc600\uc2b5\ub2c8\ub2e4.</p> <p>\uad00\uc2ec\uc774 \uc788\ub294 \ubd84\ub4e4\uc740 \ub9c1\ud06c\uc5d0\uc11c \ucf5c\ubc31 \ud050\uc5d0 \ub300\ud55c \uc124\uba85\uacfc \uba40\ud2f0\uc4f0\ub808\ub529\uc744 \uc774\uc6a9\ud55c Spinning\uc5d0 \ub300\ud574\uc11c\ub3c4 \uc77d\uc5b4\ubcf4\uba74 \uc88b\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/1_turtlesim_teleop/","title":"3.1 turtlesim \uc2e4\ud589\ud558\uace0 \ud0a4\ubcf4\ub4dc\ub85c \uc870\uc791\ud558\uae30","text":"<p>\uc774\uc81c ROS\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc5ec\ub7ec \ud234 \uc911 \ud558\ub098\uc778 turtlesim\uc744 \uc774\uc6a9\ud574 \uc55e\uc11c \ubc30\uc6b4 \uae30\ubcf8\uc801\uc778 \uac1c\ub150\ub4e4\uc744 \uc2e4\uc2b5\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/1_turtlesim_teleop/#section-1-getting-started-with-turtlesim","title":"Section 1. Getting Started with Turtlesim","text":"<p>1.1 Installation</p> <pre><code>sudo apt-get install ros-noetic-turtlesim\n</code></pre> <p>1.2 Run</p> <p><pre><code># Terminal 1\nroscore\n\n# Terminal 2\nrosrun turtlesim turtlesim_node\n</code></pre> \uc774\uc81c \uadc0\uc5ec\uc6b4 \uac70\ubd81\uc774 \ud55c\ub9c8\ub9ac\uc640 \ud568\uaed8 Turtlesim\uc774 \ucf1c\uc9c4 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"03_turtlesim/1_turtlesim_teleop/#section-2-control-a-turtle-with-keyboard","title":"Section 2. Control a turtle with keyboard","text":"<p>\uc774\uc81c \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud558\uba74 \ubc29\ud5a5\ud0a4\ub85c \uac70\ubd81\uc774\ub97c \uc6c0\uc9c1\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>rosrun turtlesim turtle_teleop_key\n</code></pre> <p></p>"},{"location":"03_turtlesim/1_turtlesim_teleop/#section-3-review-the-basics","title":"Section 3. Review the basics","text":"<p>\uc774\uc81c \uac04\ub2e8\ud558\uac8c ROS CLI(Command Line Interface)\ub97c \ubc30\uc6b0\uba70 Chapter 2\uc5d0\uc11c \ubc30\uc6b4 \ub0b4\uc6a9\uc744 \ubcf5\uc2b5\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>3.1 Nodes</p> <p>\uc6b0\ub9ac\uac00 \ucc98\uc74c \ub9cc\ub4e0 <code>publisher_node</code>\uc640 <code>subcriber_node</code>\ub294 \ub178\ub4dc\ub77c\uace0 \ubd80\ub974\uba70, ROS\uc5d0\uc11c \ud2b9\uc815 \uae30\ub2a5\uc744 \ud558\ub294 \uc2e4\ud589 \ub2e8\uc704\ub85c, \ub2e4\ub978 \ub178\ub4dc\ub4e4\uacfc \ud1b5\uc2e0\ud569\ub2c8\ub2e4.</p> <p><pre><code>rosnode list\n</code></pre> \ub97c \uc785\ub825\ud558\uba74 \ud604\uc7ac \uc2e4\ud589\ub418\uace0 \uc788\ub294 \ub178\ub4dc\ub4e4\uc758 \ubaa9\ub85d\uc774 \ub098\ud0c0\ub0a9\ub2c8\ub2e4.</p> <p>turtlesim\uc744 \ubaa8\ub450 \uc885\ub8cc\ud558\uace0 \uc774\uc804\uc5d0 \ub9cc\ub4e0 <code>hello_ros</code> \ub7f0\uce58\ud30c\uc77c\uc744 \uc2e4\ud589\ud55c \ud6c4 \ub178\ub4dc \ubaa9\ub85d\uc744 \uc0b4\ud3b4\ubd10\ub3c4 \uc88b\uc2b5\ub2c8\ub2e4.</p> <p>3.2 Topics</p> <p><pre><code>rostopic list\n</code></pre> \uc704 \uba85\ub839\uc5b4\ub294 \ud1a0\ud53d \ubaa9\ub85d\uc744 \ub098\ud0c0\ub0c5\ub2c8\ub2e4. turtlesim \ub178\ub4dc\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ud1a0\ud53d\ub4e4\uc774 \ub098\ud0c0\ub098\uba70 \uac01\uac01\uc758 \ud1a0\ud53d\ub4e4\uc5d0 \ub300\ud55c \uc815\ubcf4\ub294 <code>rostopic info</code>\ub97c \ud1b5\ud574 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud639\uc740 ROS Wiki\uc5d0 turtlesim \ud328\ud0a4\uc9c0 \uc124\uba85\uc774 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub294 \uc0ac\uc774\ud2b8\ub97c \ubcf4\ub294 \uac83\ub3c4 \uc88b\uc2b5\ub2c8\ub2e4.</p> <p>\ubcc4\ub3c4\uc758 \ud130\ubbf8\ub110\uc5d0\uc11c \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud55c \ud6c4 \ud0a4\ubcf4\ub4dc\ub85c \uc81c\uc5b4\ud574\ubcf4\uba70, \uba54\uc138\uc9c0\uac00 \uc5b4\ub5bb\uac8c \ub098\uc624\ub294\uc9c0 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.(\ud130\ubbf8\ub110 4\uac1c \ud544\uc694) <pre><code>rostopic echo /turtle1/cmd_vel\n</code></pre></p> <p>\uc704\uc5d0 \ubb38\uc11c\uc5d0 \uc0b4\ud3b4\ubcf4\uba74 Subscribed Topics\uc5d0 <code>turtleX/cmd_vel(geometry_msgs/Twist)</code> \ub77c\uace0 \uc801\ud600\uc788\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc989, \uc6b0\ub9ac\uac00 \uc2e4\ud589\ud55c <code>turtle_teleop_key</code>\ub294 \ud604\uc7ac \uc18c\ud658\ub41c turtle1\uc5d0 cmd_vel \uba85\ub839\uc5b4\ub97c \uc8fc\uace0 \uc788\uace0 \uc774 \ud1a0\ud53d\uc758 \ud0c0\uc785\uc740 <code>geometry_msgs/Twist</code>\uc785\ub2c8\ub2e4. Chapter 2\uc5d0\uc11c \uc608\uc2dc\ub85c \ub4e4\uc5c8\ub358 \uba54\uc138\uc9c0 \ud615\uc2dd\uc785\ub2c8\ub2e4.</p> <p>\ucd94\ud6c4, \ud0a4\ubcf4\ub4dc\ub85c \uc81c\uc5b4\ud558\ub294 \ub178\ub4dc\ub97c \uc9c1\uc811 \uc791\uc131\ud574\ubcfc \ub54c \uc774 \uba54\uc138\uc9c0 \ud0c0\uc785\uc744 \ud65c\uc6a9\ud560 \uac83\uc785\ub2c8\ub2e4.</p> <p>\uc774\uc81c <code>rosrun turtlesim turtle_teleop_key</code> \ud574\uc8fc\uc5c8\ub358 \ud130\ubbf8\ub110\uc5d0 <code>Ctrl+C</code>\ub97c \uc785\ub825\ud558\uc5ec \ub178\ub4dc\ub97c \uc885\ub8cc\ud558\uace0 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud574\ubd05\ub2c8\ub2e4.</p> <p><pre><code>rostopic pub -1 /turtle1/cmd_vel geometry_msgs/Twist -- '[2.0, 0.0, 0.0]' '[0.0, 0.0, 1.8]'\n# rostopic pub -1 &lt;topic&gt; &lt;msg type&gt; &lt;linear x&gt; &lt;angular x&gt;\n</code></pre> \uc704 \uba85\ub839\uc5b4\ub85c\ub3c4 \uac70\ubd81\uc774\uac00 \uc6c0\uc9c1\uc774\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\ub294 \uba85\ub839\uc5b4\ub85c \ud1a0\ud53d\uc744 publish \ud574\uc900 \uac83\uc73c\ub85c \uac01\uac01 \ud1a0\ud53d \uc774\ub984, \ud1a0\ud53d \ud0c0\uc785, \ud0c0\uc785\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\ub4e4\uc784\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>3.3 Services</p> <p>\uc774\uc81c \uc11c\ube44\uc2a4(ROS Services)\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc55e\uc11c \uc124\uba85\ud55c \ub178\ub4dc \uc678\uc5d0\ub3c4, \uc11c\ube44\uc2a4, \uc561\uc158\uc774\ub77c\ub294 \ud1b5\uc2e0 \ubc29\uc2dd\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc11c\ube44\uc2a4\uc640 \uc561\uc158\uc740 \uc790\uc8fc \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uae30\uc5d0 \ubcf8 \ud29c\ud1a0\ub9ac\uc5bc\uc5d0\uc11c\ub294 \uc0dd\ub7b5\ud558\uc600\uc9c0\ub9cc \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \ud328\ud0a4\uc9c0\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc11c\ube44\uc2a4\ub294 \uc720\uc6a9\ud558\uac8c \uc0ac\uc6a9\ub418\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uac01 \ud1b5\uc2e0\ubc29\uc2dd\uc758 \ucc28\uc774\uc810\uc740 \uc544\ub798 \uacf5\uc2dd \ubb38\uc11c\ub97c \ucc38\uace0\ud558\uae30 \ubc14\ub78d\ub2c8\ub2e4. - Topics vs Services vs Actionlib...</p> <p><pre><code>rosservice list\n</code></pre> \uc704 turtlesim\uc744 \ucf1c\ub454 \uc0c1\ud0dc\uc5d0\uc11c \uc704 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud558\uba74 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc11c\ube44\uc2a4 \ubaa9\ub85d\uc774 \ub098\uc635\ub2c8\ub2e4.</p> <p><pre><code>rosservice call /clear\n</code></pre> \uc774 \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud558\uba74 \uc774\uc804\uc5d0 \uc81c\uc5b4\ud558\uba74\uc11c \uc0dd\uae34 \uac70\ubd81\uc774 \ubc1c\uc790\uad6d\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4!</p> <p>\uc774\uc81c \ud55c\ub9c8\ub9ac\ub97c \ub354 \uc18c\ud658\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. <pre><code>rosservice call /spawn 2 2 0.2 \"\"\n</code></pre> 2\ub9c8\ub9ac\uac00 \uc0dd\uacbc\uc2b5\ub2c8\ub2e4.</p> <p>3.4 rosparam <pre><code>rosparam --help\n</code></pre> \uc774 \uba85\ub839\uc5b4\ub294 ROS Parameter Server\ub97c CLi\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uba85\ub839\uc5b4\ub97c \uc54c\ub824\uc90d\ub2c8\ub2e4. \uc6b0\uc120 <code>rosparam list</code>\ub85c \ubaa9\ub85d\uc744 \ubcf4\uba74 \ubc30\uacbd\uc0c9 \uc124\uc815\uacfc \uad00\ub828\ub41c \uac83\ub4e4\uc774 \ubcf4\uc785\ub2c8\ub2e4.</p> <p><pre><code>rosparam set /turtlesim/background_r 150\nrosservice call /clear\n</code></pre> \ubc30\uacbd\uc0c9\uc744 \uc6d0\ud558\ub294\ub300\ub85c \ubc14\uafd4\ubd05\ub2c8\ub2e4.</p> <p><code>rosparam get /turtlesim/background_r</code> \uc73c\ub85c \ud604\uc7ac \uc124\uc815\ub41c \uac12\uc744 \ud655\uc778\ud574\ubcfc \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/2_turtlesim_writeteleop/","title":"3.2 \uc9c1\uc811 \uc791\uc131\ud55c \ucf54\ub4dc\ub85c \uc81c\uc5b4\ud558\uae30(\uc608\uc81c #1)","text":"<p>ROS\uc758 \uac1c\ub150\ub4e4\uacfc CLI\ub97c \uc775\ud614\uc73c\ub2c8, \uc774\uc804\uc5d0 <code>turtle_teleop_key</code>\ub97c \ud1b5\ud574 \uc81c\uc5b4\ud574\ubcf8 \uac83 \ub300\uc2e0 \uc9c1\uc811 \ucf54\ub4dc\ub97c \uc791\uc131\ud574\uc11c \uc81c\uc5b4\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/2_turtlesim_writeteleop/#section-1-creating-a-package","title":"Section 1. Creating a Package","text":"<p>\uc774\uc804 \ucc55\ud130\ub098 ros wiki\ub97c \ucc38\uace0\ud558\uc5ec <code>roscpp</code>, <code>std_msgs</code>, <code>geometry_msgs</code> \uc758\uc874\uc131\uc744 \uac00\uc9c0\ub294 \ud328\ud0a4\uc9c0\ub97c \ud558\ub098 \ub9cc\ub4dc\uc138\uc694.</p> <p>\uc0dd\uc131\ub41c \ud328\ud0a4\uc9c0\uc758 <code>package.xml</code>\uc744 \uc801\uc808\ud558\uac8c \uc218\uc815\ud574\uc8fc\uc138\uc694.</p> <p><pre><code>cd ~/catkin_ws\ncatkin build\n</code></pre> \ud639\uc740 <pre><code>catkin build --this # \ud328\ud0a4\uc9c0 \uc704\uce58\uc5d0\uc11c\n</code></pre> \ub97c \uc774\uc6a9\ud574 \ube4c\ub4dc\ud574\uc8fc\uc138\uc694.</p>"},{"location":"03_turtlesim/2_turtlesim_writeteleop/#section-2-mission-1","title":"Section 2. Mission #1","text":"<p>\uc774\uc81c \uc57d\uac04\uc758 \uac00\uc774\ub4dc \ub77c\uc778\uc744 \uac00\uc9c0\uace0 \uc9c1\uc811 \uc18c\uc2a4\ucf54\ub4dc\ub97c \uc791\uc131\ud574\ubd05\ub2c8\ub2e4.</p> <p>\uc608\uc81c \uc124\uba85 \ubc0f \uc870\uac74</p> <ul> <li>\ud074\ub798\uc2a4 \uc791\uc131 \uc5c6\uc774 .cpp \ud30c\uc77c \ud558\ub098\ub9cc\uc744 \uc774\uc6a9\ud574 \ub178\ub4dc\ub97c \uc791\uc131\ud569\ub2c8\ub2e4.</li> <li><code>main()</code>\ud568\uc218 \uc548\uc5d0 <code>ros::init</code>\uacfc <code>ros::NodeHande</code>\uc744 \uc120\uc5b8\ud569\ub2c8\ub2e4.</li> <li>\ub178\ub4dc\uc640 \ud544\uc694\ud55c Publisher\ub97c \uc120\uc5b8\ud574\uc8fc\uace0 \uba54\uc138\uc9c0 \ud615\uc2dd\uacfc \ud1a0\ud53d \uc774\ub984\uc740 Chapter 3.1 \ud639\uc740 turtlesim \ud328\ud0a4\uc9c0 \uc124\uba85\uc744 \ucc38\uace0\ud569\ub2c8\ub2e4.</li> <li>\uc544\ub798 \uc8fc\uc5b4\uc9c0\ub294 <code>getKey()</code>\ud568\uc218\ub97c \uc774\uc6a9\ud574 \ud0a4\ubcf4\ub4dc \uc785\ub825\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.</li> <li><code>while(ros::ok())</code> \ubc18\ubcf5\ubb38 \uc548\uc5d0 \ud0a4\ubcf4\ub4dc \uc785\ub825\uacfc \uc785\ub825\uc5d0 \ub530\ub978 \uc870\uac74\ubb38, \ud1a0\ud53d publish \ub0b4\uc6a9\uc744 \ub123\uc2b5\ub2c8\ub2e4.   <pre><code># \uc608\uc2dc\nint input = getKey();\nif(input == 'w') {\n  # do someting\n};\n# ...\uc0dd\ub7b5\n</code></pre></li> <li><code>ros::Rate</code>\ub97c \uc774\uc6a9\ud574 \ubc18\ubcf5\ubb38 \uc8fc\uae30\ub97c \uc124\uc815\ud558\uace0 while\ubb38 \ub9c8\uc9c0\ub9c9\uc5d0 <code>sleep()</code>\uc744 \ub123\uc2b5\ub2c8\ub2e4.</li> <li><code>getKey()</code>\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc774 \ub108\ubb34 \uc5b4\ub824\uc6b4 \uacbd\uc6b0, std::cin\uc73c\ub85c \ud544\uc694\ud55c \uac12\ub4e4\uc744 \ud55c\uac1c \uc529 \uc785\ub825\ubc1b\ub3c4\ub85d \ud569\ub2c8\ub2e4.</li> <li>std::cin\uc73c\ub85c \uac01 \uac12\uc744 \uc785\ub825\ubc1b\ub294 \uacbd\uc6b0 \ud0a4\ubcf4\ub4dc\ub85c \uc81c\uc5b4\ud558\ub294 \ub300\uc2e0 \ud544\uc694\ud55c \uc785\ub825\uac12\uc744 \ubc1b\uc544 publish\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4.   <pre><code># \uc608\uc2dc\nstd_msgs::String msg;\nstd::cin &gt;&gt; msg.data;\n</code></pre></li> </ul> <p>getKey()</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;termios.h&gt;\n#include &lt;unistd.h&gt;\n\nint getKey(void)\n{\n  int ch;\n  struct termios oldt;\n  struct termios newt;\n\n  tcgetattr(STDIN_FILENO, &amp;oldt);\n  newt = oldt;\n\n  newt.c_lflag &amp;= ~(ICANON | ECHO);\n  newt.c_iflag |= IGNBRK;\n  newt.c_iflag &amp;= ~(INLCR  | ICRNL | IXON  | IXOFF);\n  newt.c_lflag &amp;= ~(ICANON | ECHO  | ECHOK | ECHOE | ECHONL | ISIG | IEXTEN);\n  newt.c_cc[VMIN] = 1;\n  newt.c_cc[VTIME] = 0;\n  tcsetattr(fileno(stdin), TCSANOW, &amp;newt);\n\n  ch = getchar();\n\n  tcsetattr(STDIN_FILENO, TCSANOW, &amp;oldt);\n\n  return ch;\n}\n</code></pre> <p>\ucd94\uac00\ub85c, \uc544\ub798\uc640 \uac19\uc740 \ud130\ubbf8\ub110 \uc548\ub0b4\ubb38\uc744 \ub123\uc5b4\uc8fc\uc5b4\ub3c4 \uc88b\uc2b5\ub2c8\ub2e4.</p> <p>printInfo()</p> <pre><code>void printInfo()\n{\n  puts(\"Remote Control turtle of turtlesim_node\");\n  puts(\"---------------------------------------\");\n  puts(\"               (forward)               \");\n  puts(\"                   w                   \");\n  puts(\"  (turn-left) a    s    d (turn-right) \");\n  puts(\"                (back)                 \");\n  puts(\"---------------------------------------\");\n  puts(\"### type Ctrl-C to quit                \");\n  puts(\"\");\n}\n</code></pre> <p>\uc18c\uc2a4\ucf54\ub4dc \uc791\uc131\uc774 \uc644\ub8cc\ub418\uba74 <code>CMakeLists.txt</code>\ub97c \uc801\uc808\ud788 \uc218\uc815\ud574\uc90d\ub2c8\ub2e4. \uc774\uc804 Chapter 2.1\uc744 \ucc38\uace0\ud558\uc138\uc694.</p> <p>\ubaa9\ud45c\ub294 teleop_key \ub178\ub4dc\ucc98\ub7fc \ud0a4\ubcf4\ub4dc <code>w</code> <code>a</code> <code>s</code> <code>d</code>\ub85c \uac70\ubd81\uc774\ub97c \uc81c\uc5b4\ud558\uac70\ub098 \uc9c1\uc811 \ub123\uc5b4\uc900 \uac12\uc73c\ub85c \uac70\ubd81\uc774\ub97c \uc81c\uc5b4\ud560 \uc218 \uc788\uc73c\uba74 \ub429\ub2c8\ub2e4.</p> <p>ros::ok()\ub780?</p> <p>while\ubb38\uc5d0 <code>ros::ok()</code>\ub97c \ub123\ub294 \uc774\uc720\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud669\uc5d0\uc11c <code>ros::ok()</code>\uac00 false\ub97c \ubc18\ud658\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4.</p> <ul> <li> <p><code>Ctrl-C</code>\uac00 \uc785\ub825\ub41c \uacbd\uc6b0</p> </li> <li> <p>\uac19\uc740 \uc774\ub984\uc744 \uac00\uc9c4 \ub2e4\ub978 \ub178\ub4dc\uac00 \uc0dd\uae34 \uacbd\uc6b0</p> </li> <li> <p><code>ros::shutdown()</code>\uc73c\ub85c \ub178\ub4dc\ub97c \uc885\ub8cc\uc2dc\ud0a8 \uacbd\uc6b0</p> </li> <li> <p><code>ros::NodeHandle</code>\uc774 \uc18c\uba78\ub41c \uacbd\uc6b0</p> </li> </ul> <p>\ub530\ub77c\uc11c <code>ros::ok()</code>\ub97c \uc0ac\uc6a9\ud568\uc73c\ub85c\uc368 while\ubb38\uc744 \uc548\uc804\ud558\uace0 \uc815\uc0c1\uc801\uc73c\ub85c \uc885\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/3_turtlesim_service_launch/","title":"3.3 \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uc774\ud574\uc640 turtlesim \uc0c1\ub300 \uc704\uce58\ub85c \uc81c\uc5b4\ud558\uae30(\uc608\uc81c #2)","text":"<p>\uc55e\uc11c \ud0a4\ubcf4\ub4dc\ub85c \uc81c\uc5b4\ud558\ub294 \ub178\ub4dc\uc5d0 \ub354\ud574 \uc0c8\ub85c\uc6b4 \ub178\ub4dc\ub97c \uc791\uc131\ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc11c\ube44\uc2a4\uc5d0 \ub300\ud574 \ubc30\uc6b0\uace0, \uac70\ubd81\uc774\ub97c \ud55c \ub9c8\ub9ac \ub354 \uc18c\ud658\ud558\uc5ec turtle2\ub294 turtle1\uc758 \uc704\uce58\ub97c \uac00\uc9c0\uace0 \uc81c\uc5b4\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uadf8\ub9ac\uace0 \uc5ec\ub7ec \ub178\ub4dc\ub4e4\uc744 \ub7f0\uce58\ud30c\uc77c\ub85c \ub9cc\ub4e4\uc5b4 \ud55c\ubc88\uc5d0 \uc2e4\ud589\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"03_turtlesim/3_turtlesim_service_launch/#section-1-services","title":"Section 1. Services","text":"<p>1.1 Introduction</p> <p>\ud1a0\ud53d\uc740 publish / subscribe\ub85c \uc5ec\ub7ec \uac1c\uc758 \ub178\ub4dc\ub07c\ub9ac \ud1b5\uc2e0\ud560 \uc218 \uc788\uc9c0\ub9cc \ud55c \ubc29\ud5a5\uc73c\ub85c\ub9cc \uba54\uc138\uc9c0\ub97c \uc804\ub2ec \ud639\uc740 \uc218\uc2e0\ud569\ub2c8\ub2e4.</p> <p>request / reply \ubc29\uc2dd\uc73c\ub85c \ud65c\uc6a9\ub418\ub294 \uac83\uc774 \ubc14\ub85c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4. \ud1a0\ud53d\uc774 msg\ub77c\ub294 \ud0c0\uc785\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\ucc98\ub7fc, \uc11c\ube44\uc2a4\ub294 srv\ub77c\ub294 \ud0c0\uc785\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>srv\ub294 request\uc640 response \uba54\uc138\uc9c0\ub97c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.</p> <p>1.2 Client</p> <p>\uc11c\ube44\uc2a4 \ud638\ucd9c\ud558\ub294 \ubc29\ubc95\uc740 2\uac00\uc9c0\uac00 \uc788\uc73c\uba70 \uc8fc\ub85c \ud6c4\uc790\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>\ubc29\ubc95 1. Bare <pre><code>ysdrone_msgs::DroneCommand srv;\nros::service::call(\"/drone_command\", srv);\n</code></pre></p> <p>\ubc29\ubc95 2. Handle <pre><code>ros::ServiceClient client = nh.serviceClient&lt;ysdrone_msgs::DroneCommand&gt;(\"/drone_command\");\nysdrone_msgs::DroneCommand srv;\nclient.call(srv);\n</code></pre> 2\ubc88\uc9f8 \ubc29\ubc95\uc774 \uc120\uc5b8\ub41c NodeHandle\uc744 \uc0ac\uc6a9\ud558\uba70 \uc8fc\ub85c \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 \uc774 \ubc29\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <p>Client\ub294 \uc11c\ube44\uc2a4 \uc694\uccad \uba54\uc138\uc9c0\ub97c \ubcf4\ub0b4\uace0 \uc751\ub2f5\uc744 \uae30\ub2e4\ub9ac\ub294 \uc8fc\uccb4\uc785\ub2c8\ub2e4.</p> <p>1.3 Server</p> <p>\uc11c\ube44\uc2a4\uac00 \ud638\ucd9c\ub418\uba74 callback\ud568\uc218\ub97c \uc2e4\ud589\ud558\uba70 \uc751\ub2f5\ud558\ub294 Server\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. <pre><code>bool commandCallback(ysdrone_msgs::DroneCommand::Request&amp; request, ysdrone_msgs::DroneCommand::Response&amp; response)\n{\n    mission = req.command;\n    ROS_INFO(\"[Building Search] Mission set to %d\", mission);\n    return true;    \n}\nros::ServiceServer nh.advertiseService(\"/drone_command\", commandCallback);\n</code></pre> Client\uc5d0\uc11c \ud638\ucd9c\ud55c <code>/drone_command</code>\uac00 \uc218\uc2e0\ub418\uba74 \ucf5c\ubc31\ud568\uc218\uac00 \ud638\ucd9c\ub429\ub2c8\ub2e4.</p> <p>subscriber\uc640 \uac19\uc774 \ucf5c\ubc31\ud568\uc218\ub294 \uc608\uc2dc\uc640 \uac19\uc774 \uc815\ud574\uc9c4 \uc778\uc790\ub97c \ubc1b\uace0 boolean \ud0c0\uc785\uc73c\ub85c \ubc18\ud658\ud569\ub2c8\ub2e4.</p> <p>\ud074\ub798\uc2a4\uc5d0\uc11c\ub294 callback\ud568\uc218\ub97c \uc57d\uac04 \ub2e4\ub974\uac8c \uc368\uc57c\ud558\uc9c0\ub9cc \uc774\ub294 C++\uad00\ub828 \uc9c0\uc2dd\uc774\ubbc0\ub85c \ucd94\ud6c4\uc5d0 \ub2e4\ub8f0 \uc608\uc815\uc785\ub2c8\ub2e4.</p> <p>\uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c \ub2e4\ub8ec \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 Services\ub97c \ucc38\uace0\ud569\ub2c8\ub2e4.</p> <p>1.3 CLI</p> <p>\uc774\uc81c Service\uc640 \uad00\ub828\ub41c \uba85\ub839\uc5b4\ub4e4\uc744 \uc0b4\ud3b4\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\ud604\uc7ac \uc0ac\uc6a9\uac00\ub2a5\ud55c \uc11c\ube44\uc2a4 \ubaa9\ub85d\uc744 \uc0b4\ud3b4\ubcfc \ub54c\ub294 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4 <pre><code>rosservice list\n</code></pre></p> <p><code>find</code>, <code>info</code>, <code>type</code> \ub4f1\uc758 \uba85\ub839\uc5b4\ub4e4\ub3c4 \uc788\uc9c0\ub9cc \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ub9c1\ud06c\ub85c \ub300\uccb4\ud558\uace0 <code>rosservice call</code>\uc5d0 \ub300\ud574\uc11c\ub9cc \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p><code>rosservice call &lt;service_name&gt; &lt;service-args&gt;</code>\ub85c \uc0ac\uc6a9\ud558\ub294 \uc774 \uba85\ub839\uc5b4\ub294 \uc704 1.2 Usage\uc5d0\uc11c \ub2e4\ub8ec Client\uc640 \uac19\uc740 \uae30\ub2a5\uc785\ub2c8\ub2e4.</p> <pre><code># \uc608\uc2dc\nrosservice call /drone_command 0\n</code></pre> <p>\uc774\ub7ec\ud55c \uba85\ub839\uc5b4\ub294 \uc544\ub798\uc640 \uac19\uc774 \ub7f0\uce58\ud30c\uc77c\uc5d0\uc11c\ub3c4 \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;launch&gt;\n    &lt;!-- \uc0dd\ub7b5... --&gt;\n    &lt;node pkg=\"rosservice\" type=\"rosservice\" name=\"rosservice\" args=\"call /spawn 2.5 2.5 0 turtle2\" /&gt;\n&lt;/launch&gt;\n</code></pre>"},{"location":"03_turtlesim/3_turtlesim_service_launch/#section-2-mission-2","title":"Section 2. Mission #2","text":"<p>\uc55e\uc11c Mission #1\uc5d0\uc11c \ub9cc\ub4e0 \ud0a4\ubcf4\ub4dc \uc81c\uc5b4 \ub178\ub4dc\uc640 \ud568\uaed8 \ubc30\uc6b4 \ub0b4\uc6a9\uc744 \ubcf5\uc2b5\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc774 \uc608\uc81c\uc5d0\uc11c\ub294 \ub450 \ubc88\uc9f8 \uac70\ubd81\uc774\ub97c \uc18c\ud658\ud558\uace0 \uc774 \uac70\ubd81\uc774\ub97c \uccab \ubc88\uc9f8 \uac70\ubd81\uc774\uc758 \uc704\uce58\ub97c \uc774\uc6a9\ud574 \uc81c\uc5b4\ud560 \uac83\uc785\ub2c8\ub2e4.</p> <p>\uccab \ubc88\uc9f8 \uac70\ubd81\uc774\ub294 \uc55e\uc11c \ub9cc\ub4e0 \ud0a4\ubcf4\ub4dc \uc81c\uc5b4\ub97c \ud1b5\ud574 \uc774\ub3d9\uc2dc\ud0b5\ub2c8\ub2e4.</p> <p>\uc608\uc81c \uc124\uba85 \ubc0f \uc870\uac74</p> <ul> <li>\ud074\ub798\uc2a4 \uc791\uc131 \uc5c6\uc774 .cpp \ud30c\uc77c \ud558\ub098\ub9cc\uc744 \uc774\uc6a9\ud574 \ub178\ub4dc\ub97c \uc791\uc131\ud569\ub2c8\ub2e4.</li> <li><code>main()</code>\ud568\uc218 \uc548\uc5d0 <code>ros::init</code>\uacfc <code>ros::NodeHande</code>\uc744 \uc120\uc5b8\ud569\ub2c8\ub2e4.</li> <li>\ub450 \ubc88\uc9f8 \uac70\ubd81\uc774\ub97c Service\ub97c \uc774\uc6a9\ud574 \uc120\uc5b8\ud569\ub2c8\ub2e4. \uc544\ub798 \ucf54\ub4dc\ub97c \ucc38\uace0\ud558\uc138\uc694.</li> <li>\uccab \ubc88\uc9f8\uc640 \ub450 \ubc88\uc9f8 \uac70\ubd81\uc774\uc758 \uc704\uce58\ub97c \ubc1b\ub294 \uac01\uac01\uc758 Subscriber\uc640 \ub450 \ubc88\uc9f8 \uac70\ubd81\uc774\uc5d0\uac8c \uc18d\ub3c4 \uba85\ub839\uc744 \uc8fc\ub294 Publisher\ub97c \uc120\uc5b8\ud569\ub2c8\ub2e4. turtlesim \ud328\ud0a4\uc9c0 \ucc38\uace0</li> <li>\uac01\uac01\uc758 \ucf5c\ubc31\ud568\uc218\uc5d0\uc11c \ub450 \uac70\ubd81\uc774\uc758 \uc704\uce58\ub97c \uc804\uc5ed\ubcc0\uc218\ub85c \ubc1b\uc2b5\ub2c8\ub2e4.</li> <li>while\ubb38 \uc548\uc5d0\uc11c \ub450 \ubc88\uc9f8 \uac70\ubd81\uc774\ub97c \uc81c\uc5b4\ud558\ub294 \ud1a0\ud53d\uc5d0 \ub9de\ub294 \uba54\uc138\uc9c0 \ud0c0\uc785 <code>geometry_msgs/Twist</code>\uc758 \uac12\uc744 \ub450 \uac70\ubd81\uc774\uc758 \uc0c1\ub300\uac70\ub9ac\ub85c \ub123\uc5b4\uc90d\ub2c8\ub2e4. (\ud639\uc740 \ub2e4\ub978 \uc544\uc774\ub514\uc5b4\uac00 \uc788\uc73c\uba74 \uc0ac\uc6a9\ud574\ub3c4 \uc88b\uc2b5\ub2c8\ub2e4.)</li> <li>\ud1a0\ud53d\uc744 publish\ud569\ub2c8\ub2e4.</li> <li><code>ros::Rate</code>\ub85c \uc8fc\uae30\ub97c \uc124\uc815\ud558\uace0 while\ubb38 \ub9c8\uc9c0\ub9c9\uc5d0\ub294 <code>ros::spinOnce()</code>\uc640 <code>sleep()</code>\uc744 \ub123\uc5b4\uc90d\ub2c8\ub2e4.</li> </ul> <p>\ub450 \ubc88\uc9f8 \uac70\ubd81\uc774 \uc18c\ud658\ud558\uae30</p> <pre><code>#include &lt;turtlesim/Spawn.h&gt;\n\nros::ServiceClient spawnClient = nh.serviceClient&lt;turtlesim::Spawn&gt;(\"spawn\");\nturtlesim::Spawn spawn;\nspawn.request.x = 2;\nspawn.request.y = 2;\nspawn.request.theta = 0;\nif (spawnClient.call(spawn))\n{\n    ROS_INFO(\"Successfully spawned turtle2\");\n}\nelse\n{\n    ROS_ERROR(\"Failed to spawn turtle2\");\n    return 1;\n}\n</code></pre> <p>\uc18c\uc2a4\ucf54\ub4dc \uc791\uc131\uc744 \uc644\ub8cc\ud558\uba74 <code>CMakeLists.txt</code>\ub97c \uc218\uc815\ud558\uace0 \ube4c\ub4dc\ud574\uc90d\ub2c8\ub2e4.</p> <p><code>roscore</code>\uc640 \uac01\uac01\uc758 \ub178\ub4dc\ub97c \uc2e4\ud589\ud558\uc5ec \ucf54\ub4dc\ub97c \uc801\uc808\ud558\uac8c \uc791\uc131\ud558\uc600\ub294\ub370 \ud14c\uc2a4\ud2b8 \ud574\ubd05\ub2c8\ub2e4.</p> <p>\ubaa9\ud45c</p> <p>1. \uccab \ubc88\uc9f8 \uac70\ubd81\uc774 <code>turtle1</code>\uc740 \uc55e\uc11c \ub9cc\ub4e0 \ud0a4\ubcf4\ub4dc \ub178\ub4dc\ub85c \uc81c\uc5b4\ud569\ub2c8\ub2e4.</p> <p>2. \ub450 \ubc88\uc9f8 \uac70\ubd81\uc774 <code>turtle2</code>\ub294 \uc790\uc2e0\uc758 \uc704\uce58\uc640 \uccab \ubc88\uc9f8 \uac70\ubd81\uc774\uc758 \uc704\uce58\uc758 \ucc28\uc774 \uc774\uc6a9\ud574 \uccab \ubc88\uc9f8 \uac70\ubd81\uc774\ub97c \ub530\ub77c\uac11\ub2c8\ub2e4.</p> <p>3. \uc5ec\ub7ec \uac1c\uc758 \ub178\ub4dc\ub97c \uc0ac\uc6a9\ud558\ubbc0\ub85c \ud14c\uc2a4\ud2b8 \uc644\ub8cc \ud6c4\uc5d0\ub294 <code>turtlesim</code>\uacfc \ubaa8\ub4e0 \ub178\ub4dc\ub97c \uac19\uc774 \uc2e4\ud589\ud560 \uc218 \uc788\ub294 \ub7f0\uce58\ud30c\uc77c\uc744 \uc791\uc131\ud569\ub2c8\ub2e4.</p>"}]}